(function(a){a.component("coral.basemenu",{options:{popup:false,trigger:null,my:"left top",at:"left bottom",of:null,triggerEvent:"click",data:null,onClick:null,onCreate:null,url:null,method:null},_create:function(){if(this.options.popup){this._initPopup()}},_generateULContent:function(){var d=this;if(this.element.children().length==0&&this.options.data!=null){var b="";var c=(typeof this.options.data==="string")?a.parseJSON(this.options.data):this.options.data;b=this._generateHTML(b,c);if(b.length>7){b=b.substring(4);b=b.substring(0,b.length-5)}this.element.html(b)}else{if(this.element.children().length==0&&this.options.url!=null){var b="";a.ajax({type:"get",url:d.options.url,async:false,data:null,dataType:"json",success:function(f){var e="";e=d._generateHTML(e,f);if(e.length>7){e=e.substring(4);e=e.substring(0,e.length-5)}d.element.html(e)},error:function(){}})}}},_generateHTML:function(d,e){d+="<ul>";for(var c=0;c<e.length;c++){if(e[c].id!=""){d+='<li data-id="'+e[c].id+'">'}else{d+="<li>"}d+=this._generateANode(e[c]);var b=e[c].items;if(typeof b!=="undefined"&&b instanceof Array&&b.length>0){d=this._generateHTML(d,b)}d+="</li>"}d+="</ul>";return d},_generateANode:function(b){var c="<a";if(b.iconclass!=""){c+=" data-icon='"+b.iconclass+"'"}if(b.name!=""){c+=" data-name='"+b.name+"'"}if(b.disabled!=""){c+=" data-disabled='"+b.disabled+"'"}if(b.url!=""){c+=" data-url='"+b.url+"'"}if(b.target!=""){c+=" data-target='"+b.target+"'"}c+=">";if(b.name!=""){c+=b.name}c+="</a>";return c},_initPopup:function(){var b=this;this.options.trigger=typeof this.options.trigger==="string"?a("#"+this.options.trigger):this.options.trigger;this.element.closest(".coral-menu").addClass("coral-menu-dynamic coral-shadow").appendTo(document.body);this.positionConfig={my:this.options.my,at:this.options.at,of:this.options.of?this.options.of:this.options.trigger};this.options.trigger.on(this.options.triggerEvent+".coral-menu",function(d){if(b.options.disabled===true){return}var c=a(this);if(b.element.is(":visible")){b.hide()
}else{b.show()}d.preventDefault()});a(document.body).on("click.coral-menu",function(f){var c=b.element.closest(".coral-menu");if(c.is(":hidden")){return}var d=a(f.target);if(d.is(b.options.trigger.get(0))||b.options.trigger.has(d).length>0){return}var g=c.offset();if(f.pageX<g.left||f.pageX>g.left+c.width()||f.pageY<g.top||f.pageY>g.top+c.height()){b.hide(f)}});a(window).on("resize.coral-menu",function(){if(b.element.closest(".coral-menu").is(":visible")){b.align()}})},show:function(){this.align();this.element.closest(".coral-menu").css("z-index",++a.coral.zindex).show()},hide:function(){this.element.closest(".coral-menu").fadeOut("fast")},align:function(){this.element.closest(".coral-menu").css({left:"",top:""}).position({my:this.options.my,at:this.options.at,of:this.options.of?this.options.of:this.options.trigger})},_apply:function(d,c,b){if(typeof d==="string"){return window[d].apply(c,[b])}else{if(a.isFunction(d)){return d.apply(c,[b])}}},_setMenuItemLinkDisabled:function(b){if(b.data("disabled")===true){b.toggleClass(this.componentFullName+"-disabled coral-state-disabled",true).attr("aria-disabled",true)}else{b.toggleClass(this.componentFullName+"-disabled coral-state-disabled",false).attr("aria-disabled",false)}},_bindMenuItemClick:function(c){var b=c.options.onClick;c.links.on("click",function(){if(c.options.disabled===true){return}var d={};if(a(this).parent("li").attr("data-id")!=null){d.id=a(this).parent("li").attr("data-id")}if(a(this).attr("data-target")!=null){d.target=a(this).attr("data-target")}if(a(this).attr("data-name")!=null){d.name=a(this).attr("data-name")}if(a(this).attr("data-url")!=null){d.url=a(this).attr("data-url")}if(a(this).find(":checkbox,:radio").length>0){d.hasChk=true;d.checked=a(this).find(":checkbox,:radio").prop("checked")}else{d.hasChk=false}var e={target:c,currentTarget:c,preventDefault:a.noop};c._trigger("onClick",e,d)})},setActiveMenu:function(c){var b=this;if(c==null||c.length==0){return}a.each(c,function(){var d=b.element.find("[data-name='"+this+"']");
d.parent().addClass("coral-menuitem-current")})},setCurrenMenu:function(b){if(b==null||b.length==0){return}this.element.find(">li>a").each(function(){var d=a(this),c=d.attr("data-name");if(c!==b){return}d.parent().addClass("coral-menuitem-current");a(this).parent().siblings().removeClass("coral-menuitem-current")})}})})(jQuery);$.component("coral.navigationmenu",$.coral.basemenu,{castProperties:["title"],options:{collapsible:true,active:0,textAlign:"left",role:"navigationmenu",menus:"ul",title:null,icons:{activeHeader:"cui-icon-arrow-down",header:"cui-icon-arrow-right2"},header:"> li > :first-child,> :not(li):even"},_activate:function(a){var b=this._findActive(a)[0];if(b===this.active[0]){return}b=b||this.active[0];this._eventHandler({target:b,currentTarget:b,preventDefault:$.noop})},_findActive:function(a){return typeof a==="number"?this.headers.eq(a):$()},_setOption:function(a,b){if(a==="active"){this._activate(b);return}this._super(a,b)},_create:function(){var a=this;this._generateULContent();this._render();this.links=this.element.find(".coral-menuitem-link:not(.coral-state-disabled)");this._on({"mousedown .coral-navigationmenu-header":function(b){b.preventDefault()},"click .coral-menuitem-link":function(c){c.preventDefault();var e=$(c.target).closest(".coral-menuitem-link"),b=$(c.target).closest(".coral-menu-parent");if(b.not(".coral-state-disabled").length){b.siblings().find(">ul").attr("aria-expanded",false).slideUp();b.find(">.icon").removeClass(a.options.icons.activeHeader).addClass(a.options.icons.header);if(!c.isPropagationStopped()){this.mouseHandled=true}var d=b.find(">ul");if(!e.parent().hasClass("coral-menu-parent")){this.oldActive=this.active||$();this.active=e;this.oldActive.removeClass("coral-state-highlight");ui={item:this.active,target:this.active.attr("href")};this.active.addClass("coral-state-highlight");this._trigger("onSelect",c,ui)}else{if(d.attr("aria-expanded")=="true"){d.attr("aria-expanded",false).slideUp()}else{d.attr("aria-expanded",true).slideDown();
b.find(">.icon").removeClass(a.options.icons.header).addClass(a.options.icons.activeHeader)}}}},"mouseenter .coral-menuitem-link":function(c){c.preventDefault();var d=$(c.target).closest(".coral-menuitem-link");var b=$(c.target).closest(".coral-menu-parent");if(b.not(".coral-state-disabled").length){if(!d.parent().hasClass("coral-menu-parent")){d.addClass("coral-state-hover")}this._updateTitle()}},"mouseleave .coral-menuitem-link":function(c){c.preventDefault();var d=$(c.target).closest(".coral-menuitem-link");var b=$(c.target).closest(".coral-menu-parent");if(b.not(".coral-state-disabled").length){if(!d.parent().hasClass("coral-menu-parent")){d.removeClass("coral-state-hover")}}}});this._super()},_updateTitle:function(){this.element.find("li>a").each(function(){var c=$(this),a=c.find(".coral-menuitem-text").text();var b=$("<span style = 'visibility: hidden'>"+a+"</span>").appendTo("body");if(c.width()<b.width()){c.attr("title",a)}b.remove()})},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("coral-navigationmenu-header coral-state-default")},_render:function(){var c=this;this.element.addClass("coral-helper-reset coral-navigationmenu coral-menu").attr("role","navigationmenu");this.element.uniqueId();this.options.id=this.element.attr("id");this._processPanels();submenus=this.element.find(this.options.menus);submenus.filter(":not(.coral-menu)").addClass("coral-menu-list coral-helper-reset").attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=$(this),d=e.parent();d.attr("aria-haspopup","true");e.attr("aria-labelledby",d.attr("id"))});menus=submenus.add(this.element);items=menus.find(this.options.items);items.not(".coral-menu-item").each(function(){var d=$(this);if(that._isDivider(d)){d.addClass("coral-component-content coral-menu-divider")}});this.element.find("li").each(function(){var g=$(this),e=g.children("a"),f=e.data("icon"),h=typeof(g.parent().parent("li").attr("data-level"))=="undefined"?0:parseInt(g.parent().parent("li").attr("data-level"))+1;
e.addClass("coral-menuitem-link coral-state-default coral-corner-all");e.contents().filter(function(j,k){if(k.tagName){return false}return true}).wrap("<span class='coral-menuitem-text'/>");e.html('<div class="coral-navigationmenu-item-inner">'+e.html()+"</div>");g.addClass("coral-menuitem coral-component coral-corner-all").attr("data-level",h).addClass("level"+h);if(g.children("ul").length>0){var d=g.children("ul");g.addClass("coral-menu-parent");d.addClass("coral-menu-list coral-helper-reset");e.prepend('<span class="coral-navigationmenu-item-arrow cui-icon-arrow-down3"></span>')}else{if(c.options.textAlign=="right"){}}if(c.options.textAlign=="right"){$("<span class='coral-empty' style='width:"+h*16+"px;height:"+16+"px;'></span>").prependTo(e.find(".coral-navigationmenu-item-inner"))}});var a=".coral-navigationmenu li > a[data-target='"+this.options.active+"'], .coral-navigationmenu li > a[href='"+this.options.active+"']";var b=$(a);b.parents("ul").show();if(!b.parent().hasClass("coral-menu-parent")){b.addClass("coral-state-highlight");this.oldActive=b;this.active=b}}});(function(a){var b=a.component("coral.menu",{version:"4.0.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"coral-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",onBlur:null,onFocus:null,onSelect:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().addClass("coral-menu coral-component coral-component-content").toggleClass("coral-menu-icons",!!this.element.find(".coral-icon").length).attr({role:this.options.role,tabIndex:0});if(this.options.disabled){this.element.addClass("coral-state-disabled").attr("aria-disabled","true")}this._on({"mousedown .coral-menu-item":function(c){c.preventDefault()},"click .coral-menu-item":function(c){var d=a(c.target);if(!this.mouseHandled&&d.not(".coral-state-disabled").length){this.select(c);if(!c.isPropagationStopped()){this.mouseHandled=true}if(d.has(".coral-menu").length){this.expand(c)
}else{if(!this.element.is(":focus")&&a(this.document[0].activeElement).closest(".coral-menu").length){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".coral-menu").length===1){clearTimeout(this.timer)}}}}},"mouseenter .coral-menu-item":function(c){if(this.previousFilter){return}var d=a(c.currentTarget);d.siblings(".coral-state-active").removeClass("coral-state-active");this.focus(c,d)},mouseleave:"collapseAll","mouseleave .coral-menu":"collapseAll",focus:function(e,c){var d=this.active||this.element.find(this.options.items).eq(0);if(!c){this.focus(e,d)}},blur:function(c){this._delay(function(){if(!a.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(c)}})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(c){if(this._closeOnDocumentClick(c)){this.collapseAll(c)}this.mouseHandled=false}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".coral-menu").addBack().removeClass("coral-menu coral-component coral-component-content coral-menu-icons coral-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".coral-menu-item").removeClass("coral-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("coral-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var c=a(this);if(c.data("coral-menu-submenu-carat")){c.remove()}});this.element.find(".coral-menu-divider").removeClass("coral-menu-divider coral-component-content")},_keydown:function(g){var d,f,h,e,c=true;switch(g.keyCode){case a.coral.keyCode.PAGE_UP:this.previousPage(g);break;case a.coral.keyCode.PAGE_DOWN:this.nextPage(g);break;case a.coral.keyCode.HOME:this._move("first","first",g);break;case a.coral.keyCode.END:this._move("last","last",g);break;case a.coral.keyCode.UP:this.previous(g);
break;case a.coral.keyCode.DOWN:this.next(g);break;case a.coral.keyCode.LEFT:this.collapse(g);break;case a.coral.keyCode.RIGHT:if(this.active&&!this.active.is(".coral-state-disabled")){this.expand(g)}break;case a.coral.keyCode.ENTER:case a.coral.keyCode.SPACE:this._activate(g);break;case a.coral.keyCode.ESCAPE:this.collapse(g);break;default:c=false;f=this.previousFilter||"";h=String.fromCharCode(g.keyCode);e=false;clearTimeout(this.filterTimer);if(h===f){e=true}else{h=f+h}d=this._filterMenuItems(h);d=e&&d.index(this.active.next())!==-1?this.active.nextAll(".coral-menu-item"):d;if(!d.length){h=String.fromCharCode(g.keyCode);d=this._filterMenuItems(h)}if(d.length){this.focus(g,d);this.previousFilter=h;this.filterTimer=this._delay(function(){delete this.previousFilter},1000)}else{delete this.previousFilter}}if(c){g.preventDefault()}},_activate:function(c){if(!this.active.is(".coral-state-disabled")){if(this.active.is("[aria-haspopup='true']")){this.expand(c)}else{this.select(c)}}},refresh:function(){var g,d,f=this,e=this.options.icons.submenu,c=this.element.find(this.options.menus);this.element.toggleClass("coral-menu-icons",!!this.element.find(".coral-icon").length);c.filter(":not(.coral-menu)").addClass("coral-menu coral-component coral-component-content coral-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var j=a(this),i=j.parent(),h=a("<span>").addClass("coral-menu-icon coral-icon "+e).data("coral-menu-submenu-carat",true);i.attr("aria-haspopup","true").prepend(h);j.attr("aria-labelledby",i.attr("id"))});g=c.add(this.element);d=g.find(this.options.items);d.not(".coral-menu-item").each(function(){var h=a(this);if(f._isDivider(h)){h.addClass("coral-component-content coral-menu-divider")}});d.not(".coral-menu-item, .coral-menu-divider").addClass("coral-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()});d.filter(".coral-state-disabled").attr("aria-disabled","true");if(this.active&&!a.contains(this.element[0],this.active[0])){this.blur()
}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(c,d){if(c==="icons"){this.element.find(".coral-menu-icon").removeClass(this.options.icons.submenu).addClass(d.submenu)}if(c==="disabled"){this.element.toggleClass("coral-state-disabled",!!d).attr("aria-disabled",d)}this._super(c,d)},focus:function(d,c){var f,e;this.blur(d,d&&d.type==="focus");this._scrollIntoView(c);this.active=c.first();e=this.active.addClass("coral-state-focus").removeClass("coral-state-active");if(this.options.role){this.element.attr("aria-activedescendant",e.attr("id"))}this.active.parent().closest(".coral-menu-item").addClass("coral-state-active");if(d&&d.type==="keydown"){this._close()}else{this.timer=this._delay(function(){this._close()},this.delay)}f=c.children(".coral-menu");if(f.length&&d&&(/^mouse/.test(d.type))){this._startOpening(f)}this.activeMenu=c.parent();this._trigger("onFocus",d,{item:c})},_scrollIntoView:function(f){var i,e,g,c,d,h;if(this._hasScroll()){i=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0;e=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0;g=f.offset().top-this.activeMenu.offset().top-i-e;c=this.activeMenu.scrollTop();d=this.activeMenu.height();h=f.outerHeight();if(g<0){this.activeMenu.scrollTop(c+g)}else{if(g+h>d){this.activeMenu.scrollTop(c+g-d+h)}}}},blur:function(d,c){if(!c){clearTimeout(this.timer)}if(!this.active){return}this.active.removeClass("coral-state-focus");this.active=null;this._trigger("onBlur",d,{item:this.active})},_startOpening:function(c){clearTimeout(this.timer);if(c.attr("aria-hidden")!=="true"){return}this.timer=this._delay(function(){this._close();this._open(c)},this.delay)},_open:function(d){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".coral-menu").not(d.parents(".coral-menu")).hide().attr("aria-hidden","true");d.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(d,c){clearTimeout(this.timer);
this.timer=this._delay(function(){var e=c?this.element:a(d&&d.target).closest(this.element.find(".coral-menu"));if(!e.length){e=this.element}this._close(e);this.blur(d);this.activeMenu=e},this.delay)},_close:function(c){if(!c){c=this.active?this.active.parent():this.element}c.find(".coral-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".coral-state-active").not(".coral-state-focus").removeClass("coral-state-active")},_closeOnDocumentClick:function(c){return !a(c.target).closest(".coral-menu").length},_isDivider:function(c){return !/[^\-\u2014\u2013\s]/.test(c.text())},collapse:function(d){var c=this.active&&this.active.parent().closest(".coral-menu-item",this.element);if(c&&c.length){this._close();this.focus(d,c)}},expand:function(d){var c=this.active&&this.active.children(".coral-menu ").find(this.options.items).first();if(c&&c.length){this._open(c.parent());this._delay(function(){this.focus(d,c)})}},next:function(c){this._move("next","first",c)},previous:function(c){this._move("prev","last",c)},isFirstItem:function(){return this.active&&!this.active.prevAll(".coral-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".coral-menu-item").length},_move:function(f,d,e){var c;if(this.active){if(f==="first"||f==="last"){c=this.active[f==="first"?"prevAll":"nextAll"](".coral-menu-item").eq(-1)}else{c=this.active[f+"All"](".coral-menu-item").eq(0)}}if(!c||!c.length||!this.active){c=this.activeMenu.find(this.options.items)[d]()}this.focus(e,c)},nextPage:function(e){var d,f,c;if(!this.active){this.next(e);return}if(this.isLastItem()){return}if(this._hasScroll()){f=this.active.offset().top;c=this.element.height();this.active.nextAll(".coral-menu-item").each(function(){d=a(this);return d.offset().top-f-c<0});this.focus(e,d)}else{this.focus(e,this.activeMenu.find(this.options.items)[!this.active?"first":"last"]())}},previousPage:function(e){var d,f,c;if(!this.active){this.next(e);return}if(this.isFirstItem()){return
}if(this._hasScroll()){f=this.active.offset().top;c=this.element.height();this.active.prevAll(".coral-menu-item").each(function(){d=a(this);return d.offset().top-f+c>0});this.focus(e,d)}else{this.focus(e,this.activeMenu.find(this.options.items).first())}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(c){this.active=this.active||a(c.target).closest(".coral-menu-item");var d={item:this.active};if(!this.active.has(".coral-menu").length){this.collapseAll(c,true)}this._trigger("onSelect",c,d)},_filterMenuItems:function(e){var c=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),d=new RegExp("^"+c,"i");return this.activeMenu.find(this.options.items).filter(".coral-menu-item").filter(function(){return d.test(a.trim(a(this).text()))})}})})(jQuery);(function(a){a.component("coral.breadcrumb",{_create:function(){this.element.wrap('<div class="coral-breadcrumb coral-module coral-component coral-component-header coral-helper-clearfix coral-corner-all" role="menu">');this.element.children("li").each(function(c){var d=a(this);d.attr("role","menuitem");var b=d.children("a");b.addClass("coral-menuitem-link coral-corner-all").contents().wrap('<span class="coral-menuitem-text" />');if(c>0){d.before('<li class="coral-breadcrumb-chevron coral-icon coral-icon-triangle-1-e"></li>')}else{b.addClass("coral-icon coral-icon-home")}})}})})(jQuery);(function(a){a.component("coral.tieredmenu",a.coral.basemenu,{options:{autoDisplay:true},_create:function(){this._generateULContent();this._render();this.links=this.element.find(".coral-menuitem-link");this._bindEvents();this._super()},_render:function(){var b=this;this.element.addClass("coral-menu-list coral-helper-reset").wrap('<div class="coral-tieredmenu coral-menu coral-component coral-component-content coral-corner-all coral-helper-clearfix" />');if(this.options.id){this.element.parent().attr("id",this.options.id)}else{this.element.parent().uniqueId();this.options.id=this.element.parent().attr("id")
}this.element.find("li").each(function(){var e=a(this),c=e.children("a"),d=c.data("icon");b._setMenuItemLinkDisabled(c);c.addClass("coral-menuitem-link coral-corner-all").contents().wrap('<span class="coral-menuitem-text" />');if(d){c.prepend('<span class="coral-menuitem-icon coral-icon '+d+'"></span>')}e.addClass("coral-menuitem coral-component coral-corner-all");if(e.children("ul").length>0){e.addClass("coral-menu-parent");e.children("ul").addClass("coral-component-content coral-menu-list coral-corner-all coral-helper-clearfix coral-menu-child coral-shadow");c.prepend('<span class="coral-icon coral-icon-triangle-1-e"></span>')}})},_bindEvents:function(){this._bindItemEvents();this._bindDocumentHandler()},_bindMenuItemClick:function(d,c){var b=[];if(typeof c==="boolean"&&!c){b=this.element.find("> .coral-menuitem > .coral-menuitem-link")}d.links.not(b).on("click",function(){if(d.options.disabled===true||a(this).hasClass("coral-state-disabled")){return}var e={};if(a(this).parent("li").attr("data-id")!=null){e.id=a(this).parent("li").attr("data-id")}if(a(this).attr("data-target")!=null){e.target=a(this).attr("data-target")}if(a(this).attr("data-name")!=null){e.name=a(this).attr("data-name")}if(a(this).attr("data-url")!=null){e.url=a(this).attr("data-url")}if(a(this).find(":checkbox,:radio").length>0){e.hasChk=true;e.checked=a(this).find(":checkbox,:radio").prop("checked")}else{e.hasChk=false}var f={target:d,currentTarget:d,preventDefault:a.noop};d._trigger("onClick",f,e);d.hide()})},_bindItemEvents:function(){var b=this;this.links.on("mouseenter.coral-menu",function(){if(b.options.disabled===true||a(this).hasClass("coral-state-disabled")){return}var c=a(this),e=c.parent(),d=b.options.autoDisplay,f=e.siblings(".coral-menuitem-active");if(f.length===1){b._deactivate(f)}if(d||b.active){if(e.hasClass("coral-menuitem-active")){b._reactivate(e)}else{b._activate(e)}}else{b._highlight(e)}});if(this.options.autoDisplay===false){this.rootLinks=this.element.find("> .coral-menuitem > .coral-menuitem-link");
this.rootLinks.data("primecoral-tieredmenu-rootlink",this.options.id).find("*").data("primecoral-tieredmenu-rootlink",this.options.id);this.rootLinks.on("click.coral-menu",function(i){if(b.options.disabled===true||a(this).hasClass("coral-state-disabled")){return}var g=a(this),h=g.parent(),d=h.children("ul.coral-menu-child");if(d.length===1){if(d.is(":visible")){b.active=false;b._deactivate(h)}else{b.active=true;b._highlight(h);b._showSubmenu(h,d)}}var c={};if(a(this).parent("li").attr("data-id")!=null){c.id=a(this).parent("li").attr("data-id")}if(a(this).attr("data-target")!=null){c.target=a(this).attr("data-target")}if(a(this).attr("data-name")!=null){c.name=a(this).attr("data-name")}if(a(this).attr("data-url")!=null){c.url=a(this).attr("data-url")}if(a(this).find(":checkbox,:radio").length>0){c.hasChk=true;c.checked=a(this).find(":checkbox,:radio").prop("checked")}else{c.hasChk=false}var f={target:b,currentTarget:b,preventDefault:a.noop};b._trigger("onClick",f,c);if(!a(this).parent("li").hasClass("coral-menu-parent")){b.hide()}});this._bindMenuItemClick(b,false)}else{this._bindMenuItemClick(b,true)}this.element.parent().find("ul.coral-menu-list").on("mouseleave.coral-menu",function(c){if(b.activeitem){b._deactivate(b.activeitem)}c.stopPropagation()})},add:function(b,d){if((typeof b!=="string"&&typeof b!=="number"&&b!==null)||(typeof d!=="object")){return}var c=this;if(typeof b==="string"||b==null){this._addByParentId(b,d)}else{if(typeof b==="number"){this._addByIndex(b,d)}}},_addByParentId:function(c,e){var d=this,b=this.element.find(".coral-menuitem").filter("[data-id$='"+c+"']");if(!b.length&&c!==null){return}if(c===null){this.element.append(this._getAddHTML(e,false));var f=this._renderAddHTML();this._bindAddItemEvents(f);this._bindLinkRootEvents(a(f[0]))}else{if(this._hasChildren(b)){b.children("ul").append(this._getAddHTML(e,false))}else{b.append(this._getAddHTML(e,true))}var g=this._renderAddHTML(b);this._bindAddItemEvents(g)}},_getAddHTML:function(e,f){var d="";
if(!(e instanceof Array)){e=[e]}if(typeof f==="boolean"&&f){d+="<ul>"}for(var c=0;c<e.length;c++){if(e[c].id!=""){d+='<li data-id="'+e[c].id+'">'}else{d+="<li>"}d+=this._generateANode(e[c]);var b=e[c].items;if(b.length>0){d=this._generateHTML(d,b)}d+="</li>"}if(typeof f==="boolean"&&f){d+="</ul>"}return d},_renderAddHTML:function(b){var c=this,d=this.element.find("li").not(".coral-menuitem");if(b&&!b.children("ul").hasClass("coral-menu-list")){b.addClass("coral-menu-parent");b.children("ul").addClass("coral-component-content coral-menu-list coral-corner-all coral-helper-clearfix coral-menu-child coral-shadow");b.children("a").prepend('<span class="coral-icon coral-icon-triangle-1-e"></span>')}d.each(function(){var g=a(this),e=g.children("a"),f=e.data("icon");c._setMenuItemLinkDisabled(e);e.addClass("coral-menuitem-link coral-corner-all").contents().wrap('<span class="coral-menuitem-text" />');if(f){e.prepend('<span class="coral-menuitem-icon coral-icon '+f+'"></span>')}g.addClass("coral-menuitem coral-component coral-corner-all");if(g.children("ul").length>0){g.addClass("coral-menu-parent");g.children("ul").addClass("coral-component-content coral-menu-list coral-corner-all coral-helper-clearfix coral-menu-child coral-shadow");e.prepend('<span class="coral-icon coral-icon-triangle-1-e"></span>')}});return d.find(".coral-menuitem-link")},_bindLinkRootEvents:function(c){var b=this;c.data("primecoral-tieredmenu-rootlink",this.options.id).find("*").data("primecoral-tieredmenu-rootlink",this.options.id);c.on("click.coral-menu",function(h){if(b.options.disabled===true||a(this).hasClass("coral-state-disabled")){return}var f=a(this),g=f.parent(),d=g.children("ul.coral-menu-child");if(d.length===1){if(d.is(":visible")){b.active=false;b._deactivate(g)}else{b.active=true;b._highlight(g);b._showSubmenu(g,d)}}})},_bindAddItemEvents:function(c){var b=this;c.on("click",function(){if(b.options.disabled===true||a(this).hasClass("coral-state-disabled")){return}var d={};if(a(this).parent("li").attr("data-id")!=null){d.id=a(this).parent("li").attr("data-id")
}if(a(this).attr("data-target")!=null){d.target=a(this).attr("data-target")}if(a(this).attr("data-name")!=null){d.name=a(this).attr("data-name")}if(a(this).attr("data-url")!=null){d.url=a(this).attr("data-url")}if(a(this).find(":checkbox,:radio").length>0){d.hasChk=true;d.checked=a(this).find(":checkbox,:radio").prop("checked")}else{d.hasChk=false}var e={target:b,currentTarget:b,preventDefault:a.noop};b._trigger("onClick",e,d);b.hide()});c.on("mouseenter",function(){if(b.options.disabled===true||a(this).hasClass("coral-state-disabled")){return}var d=a(this),f=d.parent(),e=b.options.autoDisplay;var g=f.siblings(".coral-menuitem-active");if(g.length===1){b._deactivate(g)}if(e||b.active){if(f.hasClass("coral-menuitem-active")){b._reactivate(f)}else{b._activate(f)}}else{b._highlight(f)}});c.parents("li").find("ul.coral-menu-list").on("mouseleave.coral-menu",function(d){if(b.activeitem){b._deactivate(b.activeitem)}d.stopPropagation()})},_hasChildren:function(b){if(b.hasClass("coral-menu-parent")){return true}else{return false}},_getLength:function(){return this.element.children("li").length},_addByIndex:function(c,e){var d=this,b=parseInt(c);if(b<0||b>this._getLength()){return}if(this._getLength()==0||b==this._getLength()){this.element.append(this._getAddHTML(e,false))}else{this.element.children("li:eq("+b+")").before(this._getAddHTML(e,false))}var f=this._renderAddHTML();this._bindAddItemEvents(f);this._bindLinkRootEvents(a(f[0]))},remove:function(){var b=this.element.children("li");if(!b.length){return}b.remove()},removeItem:function(b){var c=this;if(typeof b==="string"){this._removeById(b)}else{this._removeByIndex(b)}},_removeById:function(c){var b=this.element.find(".coral-menuitem").filter("[data-id$='"+c+"']");if(!b.length){return}if(!b.siblings("li").length){b.parent("ul").remove()}else{b.remove()}},_removeByIndex:function(c){var b=parseInt(c);if(b<0||b>(this._getLength()-1)){return}var d=this.element.children("li.coral-menuitem:eq("+b+")");if(!d.length){return}d.remove()
},updateItem:function(c,b){var d=this;if(typeof c==="string"){this._updateById(c,b)}else{this._updateByIndex(c,b)}},_updateById:function(d,b){var c=this.element.find(".coral-menuitem").filter("[data-id$='"+d+"']");if(!c.length){return}c.children(".coral-menuitem-link").children(".coral-menuitem-text").html(b)},_updateByIndex:function(d,c){var b=parseInt(d);if(b<0||b>(this._getLength()-1)){return}var e=this.element.children("li.coral-menuitem:eq("+b+")");if(!e.length){return}e.children(".coral-menuitem-link").children(".coral-menuitem-text").html(c)},_bindDocumentHandler:function(){var b=this;a(document.body).on("click.coral-menu",function(d){var c=a(d.target);if(c.data("primecoral-tieredmenu-rootlink")===b.options.id){return}b.active=false;b.element.find("li.coral-menuitem-active").each(function(){b._deactivate(a(this),true)})})},enable:function(){var b=this.element.find(".coral-menuitem");if(!b.length){return}b.children(".coral-menuitem-link").toggleClass(this.componentFullName+"-disabled coral-state-disabled",false).attr("aria-disabled",false)},enableItem:function(b){var c=this;if(typeof b==="string"){this._enableItemById(b)}else{this._enableItemByIndex(b)}},_enableItemById:function(c){var b=this.element.find(".coral-menuitem").filter("[data-id$='"+c+"']");if(!b.length){return}b.children(".coral-menuitem-link").toggleClass(this.componentFullName+"-disabled coral-state-disabled",false).attr("aria-disabled",false)},_enableItemByIndex:function(c){var b=parseInt(c);if(b<0||b>(this._getLength()-1)){return}var d=this.element.children("li.coral-menuitem:eq("+b+")");if(!d.length){return}d.children(".coral-menuitem-link").toggleClass(this.componentFullName+"-disabled coral-state-disabled",false).attr("aria-disabled",false)},disable:function(){var b=this.element.find(".coral-menuitem");if(!b.length){return}b.children(".coral-menuitem-link").toggleClass(this.componentFullName+"-disabled coral-state-disabled",true).attr("aria-disabled",true)},disableItem:function(b){var c=this;
if(typeof b==="string"){return this._disableItemById(b)}else{return this._disableItemByIndex(b)}},_disableItemById:function(c){var b=this.element.find(".coral-menuitem").filter("[data-id$='"+c+"']");if(!b.length){return}b.children(".coral-menuitem-link").toggleClass(this.componentFullName+"-disabled coral-state-disabled",true).attr("aria-disabled",true)},_disableItemByIndex:function(c){var b=parseInt(c);if(b<0||b>(this._getLength()-1)){return}var d=this.element.children("li.coral-menuitem:eq("+b+")");if(!d.length){return}d.children(".coral-menuitem-link").toggleClass(this.componentFullName+"-disabled coral-state-disabled",true).attr("aria-disabled",true)},hideAll:function(){var b=this.element.children("li");if(!b.length){return}b.hide()},hideItem:function(b){var c=this;if(typeof b==="string"){return c._hideById(b)}else{return c._hideByIndex(b)}},_hideById:function(c){var b=this.element.find(".coral-menuitem").filter("[data-id$='"+c+"']");if(!b.length){return}b.toggleClass("coral-tieredmenu-hidden",true)},_hideByIndex:function(c){var b=parseInt(c);if(b<0||b>(this._getLength()-1)){return}var d=this.element.children("li.coral-menuitem:eq("+b+")");if(!d.length){return}d.toggleClass("coral-tieredmenu-hidden",true)},showAll:function(){var b=this.element.children("li");if(!b.length){return}b.show()},showItem:function(b){var c=this;if(typeof b==="string"){return c._showById(b)}else{return c._showByIndex(b)}},_showById:function(c){var b=this.element.find(".coral-menuitem").filter("[data-id$='"+c+"']");if(!b.length){return}b.toggleClass("coral-tieredmenu-hidden",false)},_showByIndex:function(c){var b=parseInt(c);if(b<0||b>(this._getLength()-1)){return}var d=this.element.children("li.coral-menuitem:eq("+b+")");if(!d.length){return}d.toggleClass("coral-tieredmenu-hidden",false)},_deactivate:function(c,b){this.activeitem=null;c.children("a.coral-menuitem-link").removeClass("coral-state-hover");c.removeClass("coral-menuitem-active");if(b){c.children("ul.coral-menu-child:visible").fadeOut("fast")
}else{c.children("ul.coral-menu-child:visible").hide()}},_activate:function(c){this._highlight(c);var b=c.children("ul.coral-menu-child");if(b.length===1){this._showSubmenu(c,b)}},_reactivate:function(e){this.activeitem=e;var d=e.children("ul.coral-menu-child"),c=d.children("li.coral-menuitem-active:first"),b=this;if(c.length===1){b._deactivate(c)}},_highlight:function(b){this.activeitem=b;b.children("a.coral-menuitem-link").addClass("coral-state-hover");b.addClass("coral-menuitem-active")},_showSubmenu:function(c,b){if(!b.children("li:not(.coral-tieredmenu-hidden)").length){return}if(this.options.disabled===true){return}b.css({left:c.outerWidth(),top:0,"z-index":++a.coral.zindex});b.show()}})})(jQuery);(function(a){a.component("coral.menubar",a.coral.tieredmenu,{options:{autoDisplay:true},component:function(){return this.element.parent()},_create:function(){this._super();this.options.id=this.element.parent().removeAttr("id").uniqueId();this.element.parent().removeClass("coral-tieredmenu").addClass("coral-menubar");this.element.find(">li>ul").addClass("coral-dropdown-menu")},_showSubmenu:function(f,d){var e=a(window),c=null,b={"z-index":++a.coral.zindex};if(f.parent().hasClass("coral-menu-child")){b.left=f.outerWidth();b.top=0;c=f.offset().top-e.scrollTop()}else{b.left=0;b.top=f.outerHeight();c=f.offset().top+b.top-e.scrollTop()}d.css("height","auto");if((c+d.outerHeight())>e.height()){b.overflow="auto";b.height=e.height()-(c+20)}d.css(b).show()}})})(jQuery);(function(a){a.component("coral.slidemenu",a.coral.basemenu,{_create:function(){this._generateULContent();this._render();this.rootList=this.element;this.content=this.element.parent();this.wrapper=this.content.parent();this.container=this.wrapper.parent();this.submenus=this.container.find("ul.coral-menu-list");this.links=this.element.find("a.coral-menuitem-link:not(.coral-state-disabled)");this.backward=this.wrapper.children("div.coral-slidemenu-backward");this.stack=[];this.jqWidth=this.container.width();var b=this;
if(!this.element.hasClass("coral-menu-dynamic")){this._applyDimensions()}this._super();this._bindEvents()},_render:function(){var b=this;this.element.addClass("coral-menu-list coral-helper-reset").wrap('<div class="coral-menu coral-slidemenu coral-component coral-component-content coral-corner-all coral-helper-clearfix"/>').wrap('<div class="coral-slidemenu-wrapper" />').after('<div class="coral-slidemenu-backward coral-component-header coral-corner-all coral-helper-clearfix">\n                    <span class="coral-icon coral-icon-triangle-1-w"></span>Back</div>').wrap('<div class="coral-slidemenu-content" />');this.element.parent().uniqueId();this.options.id=this.element.parent().attr("id");this.element.find("li").each(function(){var e=a(this),c=e.children("a"),d=c.data("icon");b._setMenuItemLinkDisabled(c);c.addClass("coral-menuitem-link coral-corner-all").contents().wrap('<span class="coral-menuitem-text" />');if(d){c.prepend('<span class="coral-menuitem-icon coral-icon '+d+'"></span>')}e.addClass("coral-menuitem coral-component coral-corner-all");if(e.children("ul").length>0){e.addClass("coral-menu-parent");e.children("ul").addClass("coral-component-content coral-menu-list coral-corner-all coral-helper-clearfix coral-menu-child coral-shadow");c.prepend('<span class="coral-icon coral-icon-triangle-1-e"></span>')}})},_bindEvents:function(){var b=this;this._bindMenuItemClick(b);this.links.on("mouseenter.coral-menu",function(){a(this).addClass("coral-state-hover")}).on("mouseleave.coral-menu",function(){a(this).removeClass("coral-state-hover")}).on("click.coral-menu",function(){var d=a(this),c=d.next();if(c.length==1){b._forward(c)}});this.backward.on("click.coral-menu",function(){b._back()})},_forward:function(c){var d=this;this._push(c);var b=-1*(this._depth()*this.jqWidth);c.show().css({left:this.jqWidth});this.rootList.animate({left:b},300,"easeInOutCirc",function(){if(d.backward.is(":hidden")){d.backward.fadeIn("fast")}})},_back:function(){var d=this,c=this._pop(),e=this._depth();
var b=-1*(e*this.jqWidth);this.rootList.animate({left:b},300,"easeInOutCirc",function(){c.hide();if(e===0){d.backward.fadeOut("fast")}})},_push:function(b){this.stack.push(b)},_pop:function(){return this.stack.pop()},_last:function(){return this.stack[this.stack.length-1]},_depth:function(){return this.stack.length},_applyDimensions:function(){this.submenus.width(this.container.width());this.wrapper.height(this.rootList.outerHeight(true)+this.backward.outerHeight(true));this.content.height(this.rootList.outerHeight(true));this.rendered=true},show:function(){this.align();this.container.css("z-index",++a.coral.zindex).show();if(!this.rendered){this._applyDimensions()}}})})(jQuery);(function(a){a.component("coral.contextmenu",a.coral.tieredmenu,{options:{autoDisplay:true,target:null,event:"contextmenu"},_create:function(){this._super();this.element.parent().removeClass("coral-tieredmenu").addClass("coral-contextmenu coral-menu-dynamic coral-shadow coral-contextmenu");var b=this;this.options.target=typeof this.options.target==="string"?a("#"+this.options.target):this.options.target;this.options.target=this.options.target||a(document);if(!this.element.parent().parent().is(document.body)){this.element.parent().appendTo("body")}this.options.target.on(this.options.event+".coral-contextmenu",function(c){b.show(c)})},_bindItemEvents:function(){this._super();var b=this;this.links.bind("click",function(){if(a(this).parent().hasClass("coral-menu-parent")){return false}b._hide()})},_bindDocumentHandler:function(){var b=this;a(document.body).bind("click.coral-contextmenu",function(c){if(b.element.parent().is(":hidden")){return}b._hide()})},show:function(h){if(this.options.disabled===true){h.preventDefault();h.stopPropagation();return}a(document.body).children(".coral-contextmenu:visible").hide();var g=a(window),f=h.pageX,d=h.pageY,c=this.element.parent().outerWidth(),b=this.element.parent().outerHeight();if((f+c)>(g.width())+g.scrollLeft()){f=f-c}if((d+b)>(g.height()+g.scrollTop())){d=d-b
}if(this.options.beforeShow){this.options.beforeShow.call(this)}this.element.parent().css({left:f,top:d,"z-index":++a.coral.zindex}).show();h.preventDefault();h.stopPropagation()},_hide:function(){var b=this;this.element.parent().find("li.coral-menuitem-active").each(function(){b._deactivate(a(this),true)});this.element.parent().fadeOut("fast")},isVisible:function(){return this.element.parent().is(":visible")},getTarget:function(){return this.jqTarget}})})(jQuery);(function(a){a.component("coral.navigatemenubase",a.coral.basemenu,{options:{autoDisplay:true},_create:function(){this._generateULContent();this._render();this.links=this.element.find(".coral-menuitem-link:not(.coral-state-disabled)");this._bindEvents();this._super()},_render:function(){var b=this;this.element.addClass("coral-menu-list coral-helper-reset").wrap('<div class="coral-tieredmenu coral-menu coral-component coral-component-content coral-corner-all coral-helper-clearfix" />');this.element.parent().uniqueId();this.options.id=this.element.parent().attr("id");this.element.find("li").each(function(){var e=a(this),c=e.children("a"),d=c.data("icon");b._setMenuItemLinkDisabled(c);c.addClass("coral-menuitem-link coral-corner-all").contents().wrap('<span class="coral-menuitem-text" />');if(d){c.prepend('<span class="coral-menuitem-icon coral-icon '+d+'"></span>')}e.addClass("coral-menuitem coral-component coral-corner-all");if(e.children("ul").length>0){e.addClass("coral-menu-parent");e.css("position","static");e.children("ul").css("width","100%");e.find("ul li").css("width","auto");e.find("ul li a").css("width","auto");e.children("ul").addClass("coral-component-content coral-menu-list coral-corner-all coral-helper-clearfix coral-menu-child coral-shadow");c.prepend('<span class="coral-icon coral-icon-triangle-1-e"></span>')}})},_bindEvents:function(){this._bindItemEvents();this._bindDocumentHandler()},_bindItemEvents:function(){var b=this;this._bindMenuItemClick(b);this.links.on("mouseenter.coral-menu",function(){if(b.options.disabled===true){return
}var c=a(this),e=c.parent(),d=b.options.autoDisplay;var f=e.siblings(".coral-menuitem-active");if(f.length===1){b._deactivate(f)}if(d||b.active){if(e.hasClass("coral-menuitem-active")){b._reactivate(e)}else{b._activate(e)}}else{b._highlight(e)}});if(this.options.autoDisplay===false){this.rootLinks=this.element.find("> .coral-menuitem > .coral-menuitem-link");this.rootLinks.data("primecoral-tieredmenu-rootlink",this.options.id).find("*").data("primecoral-tieredmenu-rootlink",this.options.id);this.rootLinks.on("click.coral-menu",function(g){var d=a(this),f=d.parent(),c=f.children("ul.coral-menu-child");if(c.length===1){if(c.is(":visible")){b.active=false;b._deactivate(f)}else{b.active=true;b._highlight(f);b._showSubmenu(f,c)}}})}this.element.parent().find("ul.coral-menu-list").on("mouseleave.coral-menu",function(c){if(b.activeitem){}c.stopPropagation()})},_bindDocumentHandler:function(){var b=this;a(document.body).on("click.coral-menu ",function(d){var c=a(d.target);if(c.data("primecoral-tieredmenu-rootlink")===b.options.id){return}if(c.is("[type='checkbox']")){return}b.active=false;b.element.find("li.coral-menuitem-active").each(function(){if(b.options.fixmenu==="false"){b._deactivate(a(this),true)}})})},_deactivate:function(c,b){this.activeitem=null;c.children("a.coral-menuitem-link").removeClass("coral-state-hover");c.removeClass("coral-menuitem-active");if(b){c.children("ul.coral-menu-child:visible").fadeOut("fast")}else{c.children("ul.coral-menu-child:visible").hide()}},_activate:function(c){this._highlight(c);var b=c.children("ul.coral-menu-child");if(b.length===1){this._showSubmenu(c,b)}},_reactivate:function(e){this.activeitem=e;var d=e.children("ul.coral-menu-child"),c=d.children("li.coral-menuitem-active:first"),b=this;if(c.length===1){b._deactivate(c)}},_highlight:function(b){this.activeitem=b;b.children("a.coral-menuitem-link").addClass("coral-state-hover");b.addClass("coral-menuitem-active")},_showSubmenu:function(c,b){if(this.options.disabled===true){return
}b.css({left:c.outerWidth(),top:0,"z-index":++a.coral.zindex});b.show()}})})(jQuery);(function(a){a.component("coral.navigatemenu",a.coral.navigatemenubase,{options:{autoDisplay:true,checkable:null,fixmenu:null},_generateHTML:function(e,f){e+="<ul>";for(var d=0;d<f.length;d++){e+="<li>";e+=this._generateANode(f[d]);var c=f[d].name;var b=f[d].items;if(b.length>0){e=this._generateLast(e,b,c)}e+="</li>"}e+="</ul>";return e},_generateLast:function(d,e,b){d+="<ul>";for(var c=0;c<e.length;c++){d+="<li>";d+=this._generateChbNode(e[c],b);d+="</li>"}d+="</ul>";return d},_generateChbNode:function(f,c){var g="<a";if(f.iconclass!=""){}if(f.name!=""){g+=" data-name='"+f.name+"'"}if(f.disabled!=""){g+=" data-disabled='"+f.disabled+"'"}if(f.url!=""){g+=" href='"+f.url+"'"}if(f.target!=""){g+=" target='"+f.target+"'"}g+=">";var e=f.checked===true?"checked":"";var b=f.disabled=="true"?"disabled=true":"";var d="<input type='radio' "+b+" name='"+c+"' "+e+" data-id='"+this.element[0].id+"_"+f.name+"'/>";if(this.options.checkable===true){d="<input type='checkbox' "+b+" "+e+" data-id='"+this.element[0].id+"_"+f.name+"'/>"}g+=d;if(f.name!=""){g+=f.name}g+="</a>";return g},_create:function(){this._super();this.element.parent().removeClass("coral-tieredmenu").addClass("coral-navigatemenu");if(this.options.fixmenu!=="false"){var c=a(this.links[0]).parent(":first").find("ul").outerHeight();var b=this.element.parent().outerHeight();this.element.parent().outerHeight(c+b-3)}if(this.options.fixmenu!=="false"){this._activate(a(this.links[0]).parent());a(this.links[0]).parent(":first").find("ul").css("height","auto")}},_showSubmenu:function(f,d){var e=a(window),c=null,b={"z-index":++a.coral.zindex};if(f.parent().hasClass("coral-menu-child")){b.left=f.outerWidth();b.top=0;c=f.offset().top-e.scrollTop()}else{b.left=0;b.top=this.element.parent().outerHeight();c=f.offset().top+b.top-e.scrollTop()}d.css("height","auto");if((c+d.outerHeight())>e.height()){b.overflow="auto";b.height=e.height()-(c+20)}d.css(b).show()
},check:function(b,c){a("[data-id='"+this.element[0].id+"_"+b+"']").prop("checked",c)}})})(jQuery);