(function(a,b){a.component("coral.toolbar",{version:"4.0.2",castProperties:["data","dataCustom","dropdownOptions"],options:{clickToDisplay:1,id:null,name:null,dataCustom:{},disabled:false,cls:null,url:null,title:false,method:"get",data:null,width:null,height:null,isOverflow:true,dropdownOptions:{button:{text:false,label:"更多"},panelPosition:{my:"right top",at:"right bottom"},atGroup:0},align:0,autoDisplay:false,margin:5,onCreate:null,onClick:null,onLoad:null},_jion:function(e,d){var c=[];a.each(e,function(f,g){c.push(a(g))});a.each(d,function(f,g){c.push(a(g))});return c},_hideMenus:function(){a(".coral-tieredmenu").hide()},_create:function(){var c=this;this.groupLength=1;this._initElements();this._bindEvents()},_bindEvents:function(){var c=this;this._on(this.document,{mousedown:function(d){if(c.options.clickToDisplay==1&&c.options.autoDisplay){c.uiBox.toggleClass("coral-toolbar-click-active",false)}}})},_initElements:function(){var d=this,c=this.options;this.uiBox=a('<div class="coral-toolbar"></div>');this.uiBorder=a('<div class="coral-toolbar-border"></div>');this.uiBox.append(this.uiBorder);this.uiBox.insertAfter(this.element);this.element.appendTo(this.uiBorder);if(typeof this.element.attr("id")!="undefined"){this.options.id=this.element.attr("id")}else{if(this.options.id){this.element.attr("id",this.options.id)}}if(typeof this.element.attr("name")!="undefined"){this.options.name=this.element.attr("name")}else{if(this.options.name){this.element.attr("name",this.options.name)}}this.uiAfter=a("<button type='button' data-frozen='true' class='coral-toolbar-after-element ctrl-toolbar-element'></button>").menubutton({label:this.options.dropdownOptions.button.label,text:this.options.dropdownOptions.button.text,renderType:"button",icons:"cui-icon-arrow-down3 right",data:[],position:this.options.dropdownOptions.panelPosition});this.uiAfter.menubutton("component").addClass("coral-toolbar-item-component coral-toolbar-after");this.uiAfter.menubutton("hide");this._loadData();
if(this.options.clickToDisplay==0){this.uiBox.addClass("coral-toolbar-click-active")}},_loadData:function(){var d=this,c=this.options;if(c.url){a.ajax({type:c.method,url:c.url,data:{},dataType:"json",success:function(e){d._initData(e)},error:function(){a.alert("Json Format Error!")}})}else{if(c.data){this._initData(c.data)}}},_initData:function(d){var c=this;if(typeof d==="object"){this._addItems(null,d);this._trigger("onLoad",null,{});this.isLoaded=true;this._setFrozenElements();this._position()}if(this.options.disabled){this._setDisabled(this.options.disabled)}},_addItems:function(g,d,l){if(typeof d!=="object"){return}var f=this,j=[],h=d.length;for(var e=0;e<h;e++){var c=d[e];if(c==""||!a.isEmptyObject(c)){j.push(f._createItem(c))}}this._appendItems(g,j,l);this._initItems(j);if(!this.element.find(".coral-toolbar-after-element").length){var m=this._getGroupNameByIndex(this.options.dropdownOptions.atGroup);var k=this.element.find("[group-role='"+m+"']");if(k.length){k.after(this.uiAfter.menubutton("component"))}else{this.element.append(this.uiAfter.menubutton("component"))}}},_createItem:function(c){var h=this,i=c,f=c.type||"button",g=null;if(c==="-"){f="seperator"}else{if(c==="->"){f="grouper"}else{if(c===""){f="blank"}else{if(c==="more"){f="more"}}}}var e=this._createEl(f);g=c;if(f==="button"&&typeof c.icon!=="undefined"&&c.icon!=""){var d=this._getIcon(c.icon);delete g.icon;if(null!=d.ico1&&null==d.ico2){g.icons=d.ico1}else{if(null==d.ico1&&null!=d.ico2){g.icons=d.ico2+" right"}else{if(null!=d.ico1&&null!=d.ico2){g.icons=d.ico1+" left, "+d.ico2+" right"}}}}return{$el:e,coralType:f,options:g}},_align:function(){if(this.groupLength!=1){return}var d=this.options;if(d.align=="center"){var c=this._createEl("grouper").attr("grouper-role","center"),e=this._createEl("grouper").attr("grouper-role","right");this.element.prepend(c);this.element.find("[group-role='left']").removeClass("group-left").addClass("group-center").attr("group-role","center");this.element.find(".ctrl-toolbar-element").attr("group","center");
this.element.append(e)}else{if(d.align=="right"){var e=this._createEl("grouper").attr("grouper-role","right");this.element.find("[group-role='left']").removeClass("group-left").addClass("group-right").attr("group-role","right");this.element.find(".ctrl-toolbar-element").attr("group","right");this.element.prepend(e)}}},_appendItems:function(m,o,q){var l=this;if(!this.isLoaded){var n=0;var c=l._createGrouper(n,this.groupLength);this.element.append(c);a.each(o,function(j,k){if(k.coralType=="grouper"){n+=1;c=l._createGrouper(n,l.groupLength);l.element.append(k.$el.attr("grouper-role",c.attr("group-role")));l.element.append(c)}else{c.append(k.$el.attr("group",c.attr("group-role")));if(k.options&&k.options.frozen==true){k.$el.attr("data-frozen",true)}}});this._align()}else{var s=this._getGroupNameByIndex(q);var p=this.element.find("[group-role='"+s+"']");var e=p.find(".ctrl-toolbar-element:not(.coral-toolbar-separator)").length;if(null==m||m==e){for(var h in o){o[h].$el.attr("group",s);o[h].$el.appendTo(p)}}else{if(m==0){for(var g in o){o[g].$el.attr("group",s);o[g].$el.prependTo(p)}}else{for(var f in o){o[f].$el.attr("group",s);var r=p.find(".ctrl-toolbar-element:eq("+m+")");var d=r.attr("component-role");if(d){r[d]("component").before(o[f].$el)}else{r.before(o[f].$el)}}}}}},_initItems:function(c){var g=this;for(var e in c){if(c[e].coralType==="seperator"||c[e].coralType==="grouper"||c[e].coralType==="blank"||c[e].coralType==="more"){continue}var d=c[e].$el,h=c[e].coralType.toLowerCase(),f=c[e].options;f.componentCls="coral-toolbar-item-component";if(c[e].coralType==="html"){d.attr("id",f.id).append(f.content);continue}if(g.options.title){f.title=true}d[h](f);d.off(".toolbaronclick").on(h+"onclick.toolbaronclick",function(k,j){j=j||{};j.id=j.id||k.currentTarget.id;a(k.currentTarget).attr("component-role")=="splitbutton";if(g.uiAfter.length){var i=a(k.currentTarget).attr("component-role");if(i=="splitbutton"||i=="button"){g.uiAfter.menubutton("hidePanel")}}g._trigger("onClick",k,j)
});d.off(".toolbaronmouseenter").on(h+"onmouseenter.toolbaronmouseenter",function(k,j){var i=a(k.currentTarget).attr("component-role");if(i=="splitbutton"||i=="menubutton"){a(k.currentTarget)[i]("hideAllMenus");a(k.currentTarget)[i]("showMenu")}})}},_createEl:function(d){var c;switch(d){case"button":c=a("<button type='button'></button>");break;case"checkbox":c=a("<input type='checkbox' />");break;case"textbox":case"combobox":c=a("<input type='text' />");break;case"datepicker":c=a("<input type='text' />");break;case"splitbutton":case"menubutton":c=a("<button type='button'></button>");break;case"seperator":c=a("<div class='coral-toolbar-item-component coral-toolbar-separator coral-toolbar-separator-horizontal'></div>");break;case"grouper":this.groupLength+=1;c=a("<div class='coral-toolbar-item-component coral-toolbar-grouper'></div>");break;case"html":c=a("<div class='coral-toolbar-item-component coral-toolbar-html'></div>");break;case"blank":c=a("<span class='coral-toolbar-item-component coral-toolbar-blank'></span>");break;case"more":c=this.uiAfter.menubutton("component");return c;break;default:c=a("<span class='coral-toolbar-item-component'></span>");break}return c.addClass("ctrl-toolbar-element")},_createGrouper:function(c,d){var e=a();if(d==1||d==3){switch(c){case 0:e=a("<span class='coral-toolbar-group group-left' group-role='left'></span>");break;case 1:e=a("<span class='coral-toolbar-group group-center' group-role='center'></span>");break;case 2:e=a("<span class='coral-toolbar-group group-right' group-role='right'></span>");break;default:e=a("<span class='coral-toolbar-group' group-role='default'></span>");break}}else{if(d==2){switch(c){case 0:e=a("<span class='coral-toolbar-group group-left' group-role='left'></span>");break;case 1:e=a("<span class='coral-toolbar-group group-right' group-role='right'></span>");break;default:e=a("<span class='coral-toolbar-group' group-role='default'></span>");break}}}return e},_getGroupNameByIndex:function(c){if(typeof c!=="number"){return"left"
}if(this.groupLength==1){return"left"}else{if(this.groupLength==2){return c==0?"left":"right"}else{if(this.groupLength==3){switch(c){case 0:return"left";case 1:return"center";case 2:return"right"}}}}},_getGrouper:function(){return this.element.find(".coral-toolbar-grouper")},_resetGrouper:function(){var c=this._getGrouper();if(c.length){c.width(1)}},_resetToolbarItems:function(){var d=this,c=this._getElements(2);this._resetGrouper();a.each(c,function(h,k){var g=a(k),f=d._getComponentByElement(g);f.css({left:""});if(f.hasClass("coral-menubutton-button-item")){var l=g.attr("group"),j=d.element.find("[group-role='"+l+"']");if(j.find("[data-frozen='true']").length){var e=j.find("[data-frozen='true']:eq(0)");var m=d._getComponentByElement(e);m.before(f.removeClass("coral-menubutton-button-item"))}else{j.append(f.removeClass("coral-menubutton-button-item"))}}});this.uiAfter.menubutton("hidePanel");this.uiAfter.menubutton("hide");this.uiBorder.css({width:"auto"})},_position:function(){if(!this.element.is(":visible")){this._resetToolbarItems();this.component().addClass("coral-toolbar-initHidden");return}else{this.component().removeClass("coral-toolbar-initHidden")}var d=this,c=this.options;this._resetGrouper();this.totalWidth=this._totalWidth();if(c.isOverflow&&this.uiBox.width()>0){this.uiBorder.width(this.uiBox.width())}else{this.uiBorder.width(Math.max(this.totalWidth,this.uiBox.width()))}if(this._toolbarWidth()-this.totalWidth<0){this.uiAfter.menubutton("show")}else{this.uiAfter.menubutton("hide")}this._positionItems(this.element)},_positionItems:function(c){var e=this,d=this.options,h=this.options.margin,g=false,i=0,f=a(),j={right:"auto"};this._prePosition();this.element.find(".coral-toolbar-item-component:not(.coral-state-hidden)").each(function(k,l){var m=a(l);if(g){return true}if(f.length){i=i+f.outerWidth()+h}j.left=i+"px";m.css(j);f=m});this._handlerDropdownItems()},_handlerDropdownItems:function(){var d=this,c=this._filter(this._getElements(0),".ctrl-init-splitbutton,.ctrl-init-menubutton");
d._hideMenus();a.each(c,function(h,j){var g=a(j),f=d._getComponentByElement(g);try{switch(g.attr("component-role")){case"splitbutton":if(f.hasClass("coral-menubutton-button-item")){g.splitbutton("menu").tieredmenu("option",{my:"left top",at:"right top",of:g.splitbutton("uiDropdownButton")})}else{g.splitbutton("menu").tieredmenu("option",{my:"left top",at:"left bottom",of:g})}break;case"menubutton":if(f.hasClass("coral-menubutton-button-item")){g.menubutton("menu").tieredmenu("option",{my:"left top",at:"right top"})}else{g.menubutton("menu").tieredmenu("option",{my:"left top",at:"left bottom"})}break;default:break}}catch(e){console.log(" There is a error happened.")}finally{}})},_getComponentByElement:function(d){var c=a(),e=d.attr("component-role");if(e){c=d[e]("component")}else{c=d}return c},_filter:function(d,c){var e=[];a.each(d,function(g,h){var f=a(h);if(f.is(c)){e.push(f)}});return e},_prePosition:function(){var d=this,c=this.options,h=this.options.margin,j=0,g=false,i=[],f=a(),e=[];if(this.uiAfter.is(":visible")){e=this._getElements(3)}else{e=this._getElements(2)}var e=this._jion(d._getFrozenElements(),d._filter(e,":not([data-frozen='true'])"));a.each(e,function(n,p){var m=d._getComponentByElement(a(p));var l=!m.hasClass("coral-menubutton-button-item");if(g){if(!l){return true}if(m.hasClass("coral-toolbar-grouper")||a(p).attr("data-frozen")=="true"){return true}i.push(m);return true}if(f.length&&f.is(":visible")){j=j+f.outerWidth()+h}if(!l){var o=d.element.find("[group-role='"+a(p).attr("group")+"']");if(o.attr("group-role")==a(p).attr("group")&&o.find("[data-frozen='true']").length){var k=o.find("[data-frozen='true']:eq(0)");if(k.attr("component-role")){k[k.attr("component-role")]("component").before(m.removeClass("coral-menubutton-button-item"))}else{k.before(m.removeClass("coral-menubutton-button-item"))}}else{m.removeClass("coral-menubutton-button-item").appendTo(o)}}if(j+m.outerWidth()>d._toolbarWidth()){g=true;if(m.hasClass("coral-toolbar-grouper")||a(p).attr("data-frozen")=="true"){return true
}if(l){i.push(m)}else{d.uiAfter.menubutton("prepend",m)}return true}f=m});if(!this.isLoaded){d.uiAfter.menubutton("append",i)}else{d.uiAfter.menubutton("prepend",i)}this._setGrouperWidth()},_setGrouperWidth:function(){var h=this._getGrouper();var d=(this._toolbarWidth()-this._totalWidth(true,this.uiAfter.is(":visible"))-this.options.margin);var g=this._getWidthByGroupRole("left");var e=this._getWidthByGroupRole("right");var c=(d-g+e)/2;var f=(d-c);if(d<0){h.width(1);return}if(h.length==1){h.width(d)}else{if(h.length==2){if(c>0&&f>0&&!this.uiAfter.is(":visible")){a(h[0]).width(c+1);a(h[1]).width(f+1)}else{a(h[1]).width(d+1);a(h[0]).width(1)}}}},_getWidthByGroupRole:function(g){var f=this.options,e=0,d=this.element.find("[group-role='"+g+"']"),c=d.find(".coral-toolbar-item-component");if(!d.length||!c.length){return 0}a.each(c,function(k,j){var h=a(j);e+=h.outerWidth()+f.margin;if(k==c.length-1){e-=f.margin}});return e},_toolbarWidth:function(){return this.uiBorder.innerWidth()},_setFrozenElements:function(){var d=this._getElements(3),c=false;a.each(d,function(f,g){var e=a(g);if(e.hasClass("coral-toolbar-after-element")){c=true}if(c&&!e.hasClass("coral-toolbar-grouper")){e.attr("data-frozen",true)}})},_getFrozenElements:function(){if(this.uiAfter.is(":visible")){return this.element.find("[data-frozen='true']")}else{return this.element.find("[data-frozen='true']:not(.coral-toolbar-after-element)")}},_getElements:function(d){var c=a(),e=this.element.find(".ctrl-toolbar-element"),f=this.uiAfter.menubutton("buttons").find(".ctrl-toolbar-element");c=this._jion(e,f);switch(d){case 0:c=this._filter(c,":not(.coral-toolbar-after-element,.coral-toolbar-grouper,.coral-toolbar-separator)");break;case 1:c=this._filter(c,":not(.coral-toolbar-after-element,.coral-toolbar-grouper)");break;case 2:c=this._filter(c,":not(.coral-toolbar-after-element)");break;case 3:break;default:break}return c},_getComponents:function(e,c){var d=a(),f=this.element.find(".coral-toolbar-item-component"),g=this.uiAfter.menubutton("buttonElements");
d=this._jion(f,g);e=e||1;switch(e){case 0:d=this._filter(d,":not(.coral-toolbar-after,.coral-toolbar-grouper,.coral-toolbar-separator)");break;case 1:d=this._filter(d,":not(.coral-toolbar-after,.coral-toolbar-grouper)");break;case 2:d=this._filter(d,":not(.coral-toolbar-after)");break;case 3:break;default:break}if(!c){$itemAll=this._filter(d,".coral-state-hidden")}return d},getTotalWidth:function(c){return this._totalWidth(c)},_totalWidth:function(e,d){var g=this,f=this.options,c=0;var i=a();if(d){i=this.element.find(".coral-toolbar-item-component:not(.coral-state-hidden)")}else{i=this.element.find(".coral-toolbar-item-component:not(.coral-state-hidden,.coral-toolbar-after)")}var h=this.uiAfter.menubutton("buttons").find(".coral-toolbar-item-component:not(.coral-state-hidden)");i.each(function(k,l){var j=a(l);c=c+j.outerWidth()+f.margin;if(k==i.length-1&&!h.length){c=c-f.margin}});if(e){return c-f.margin}this.uiAfter.menubutton("showPanel");h.each(function(k,l){var j=a(l);c=c+j.outerWidth()+f.margin;if(k==h.length-1){c=c-f.margin}});this.uiAfter.menubutton("hidePanel");return c},_getIcon:function(f){var e={ico1:null,ico2:null},d=[],c;if(f==null){return e}c=a.trim(f);if(c.indexOf(",")>=0){d=c.split(",");e.ico1=d[0]==""?null:d[0];e.ico2=d[1]==""?null:d[1]}else{e.ico1=c}return e},getLength:function(){return this._getElements(0).length},isExist:function(c){return this._getSubCoral(c)?true:false},_getGroupElementsLength:function(d){if(typeof d!=="number"||d>(this.groupLength-1)){return}var e=this._getGroupNameByIndex(d);var c=this.element.find("[group-role='"+e+"']");return c.find(".ctrl-toolbar-element:not(.coral-toolbar-separator)").length},add:function(d,g,f){if(typeof g!=="object"){return}if(typeof d==="string"){return this._addByParentId(d,g)}var f=f||0;var e=this,c=parseInt(d);if(((null!=d)&&isNaN(c))||c<0||c>this._getGroupElementsLength(f)){return}if(!a.isArray(g)){g=[g]}if(0==this._getGroupElementsLength(f)){d=null}this._addItems(d,g,f);this._refresh()},_addByParentId:function(c,f){var e=this._getSubCoral(c);
if(e){var d=e.$el;switch(e.type){case"splitbutton":d.splitbutton("menu").tieredmenu("add",null,f);break;case"menubutton":d.menubutton("menu").tieredmenu("add",null,f);break;case"tieredmenu":d.tieredmenu("add",c,f);break;default:break}}},getSubCoral:function(c){var d=this;if(typeof c==="string"){return d._getSubCoral(c)}else{return d._getSubCoralByIndex(c)}},_getSubCoralByIndex:function(d){var e=this,c=parseInt(d);if(isNaN(c)||c<0||c>(this.getLength()-1)){return false}return e._getSubCoral(c)},_findElementsByAttr:function(d,c,f){var e=this,g=[];a.each(d,function(h,j){var i=a(j);if(f==i.attr(c)){g.push(i)}});return g},_getSubCoral:function(c){var e=this,k=this._findElementsByAttr(this._getElements(0),"id",c),g=null,i=this._findElementsByAttr(this._getElements(0),"component-role","splitbutton"),f=this._findElementsByAttr(this._getElements(0),"component-role","menubutton"),d=null,j=null,h=null;if(typeof c==="number"){h=a(this._getElements(0)[c]);j={$el:h,type:h.attr("component-role")};return j}if(k.length){j={$el:k[0],type:k[0].attr("component-role")};return j}d=this._findSubCoralInMenuItems(i,c);if(i.length&&d){j={$el:d,type:"tieredmenu"};return j}d=this._findSubCoralInMenuItems(f,c);if(f.length&&d){j={$el:d,type:"tieredmenu"};return j}return j},_findSubCoralInMenuItems:function(d,e){if(!d.length){return}var c=null;a.each(d,function(g,j){var f=a(j),i=f.attr("component-role"),h=a(j)[i]("menu");if(h.find("[data-id='"+e+"']").length){c=h}});return c},removeAll:function(){var c=this;a.each(this._getElements(1),function(d,f){var e=a(f),g=e.attr("component-role");if(g){e[g]("destroy")}e.remove()});this._refresh()},remove:function(c){var d=this;if(typeof c==="string"){this._removeById(c)}else{this._removeByIndex(c)}this._refresh()},_removeById:function(g){var d=this,e=this._getSubCoral(g);if(e){var c=e.$el;if(c.hasClass("coral-toolbar-html")){c.remove();return}switch(e.type){case"tieredmenu":c.tieredmenu("removeItem",g);break;default:var f=c.attr("component-role");c[f]("destroy");
c.remove();break}}},_removeByIndex:function(d){var c=parseInt(d);if(isNaN(c)||c<0||c>(this.getLength()-1)){return false}var e=a(this._getElements(0)[c]);var f=e.attr("component-role");if(f){e[f]("component").remove()}e.remove()},update:function(d,c){var e=this;if(typeof d==="string"){e._updateById(d,c)}else{e._updateByIndex(d,c)}this._refresh()},_updateById:function(f,c){var e=this._getSubCoral(f);if(e){var d=e.$el;switch(e.type){case"tieredmenu":d.tieredmenu("updateItem",f,c);break;case"button":d.button("update",c);break;case"splitbutton":d.splitbutton("button").button("update",c);break;case"menubutton":d.menubutton("button").button("update",c);break;default:break}}},_updateByIndex:function(e,d){var c=parseInt(e);if(isNaN(c)||c<0||c>(this.getLength()-1)){return false}var g=this._getSubCoral(e);if(g){var f=g.$el;switch(g.type){case"button":f.button("update",d);break;case"splitbutton":f.splitbutton("button").button("update",d);break;case"menubutton":f.menubutton("button").button("update",d);break;default:break}}},component:function(){return this.uiBox},_uiBorder:function(){return this.uiBorder},disable:function(){this._setDisabled(true)},enable:function(){this._setDisabled(false)},_setDisabled:function(c){var e=this;var d=this._getElements(0);a.each(d,function(g,h){var f=a(h);if(f.hasClass("coral-toolbar-html")){return true}if(!f.attr("component-role")){return}if(c){f[f.attr("component-role")]("disable")}else{f[f.attr("component-role")]("enable")}});this.options.disabled=!!c},disableItem:function(c){var d=this;if(typeof c==="string"){d._disableItemById(c)}else{d._disableItemByIndex(c)}},_disableItemById:function(g){var d=this,f=this._getSubCoral(g);if(f){var c=f.$el;if(c.hasClass("coral-toolbar-html")){return}switch(f.type){case"tieredmenu":c.tieredmenu("disableItem",g);break;default:var e=a(this._findElementsByAttr(this._getElements(0),"id",g)[0]);if(!e.length){return}e[e.attr("component-role")]("disable");break}}},_disableItemByIndex:function(d){var e=this,c=parseInt(d);
if(isNaN(c)||c<0||c>(this.getLength()-1)){return false}var f=a(this._getElements(0)[c]);if(f.hasClass("coral-toolbar-html")){return false}if(!f.length){return false}f[f.attr("component-role")]("disable");return true},enableItem:function(c){var d=this;if(typeof c==="string"){d._enableItemById(c)}else{d._enableItemByIndex(c)}},_enableItemById:function(g){var d=this,f=this._getSubCoral(g);if(f){var c=f.$el;if(c.hasClass("coral-toolbar-html")){return}switch(f.type){case"tieredmenu":c.tieredmenu("enableItem",g);break;default:var e=a(this._findElementsByAttr(this._getElements(0),"id",g)[0]);if(!e.length){return}e[e.attr("component-role")]("enable");break}}},_enableItemByIndex:function(d){var e=this,c=parseInt(d);if(isNaN(c)||c<0||c>(this.getLength()-1)){return false}var f=a(this._getElements(0)[c]);if(f.hasClass("coral-toolbar-html")){return}if(!f.length){return false}f[f.attr("component-role")]("enable");return true},hide:function(c){var d=this;if(typeof c==="string"){d._hideById(c)}else{d._hideByIndex(c)}this._refresh()},hideAll:function(){var c=this;a.each(this._getElements(1),function(d,f){var e=a(f).attr("component-role");if(e){a(f)[e]("hide")}else{a(f).hide()}});this._refresh()},_hideById:function(g){var d=this,f=this._getSubCoral(g);if(f){var c=f.$el;if(c.hasClass("coral-toolbar-html")){c.hide();return}switch(f.type){case"tieredmenu":c.tieredmenu("hideItem",g);break;default:var e=a(this._findElementsByAttr(this._getElements(0),"id",g)[0]);if(!e.length){return}e[e.attr("component-role")]("hide");break}}},_hideByIndex:function(d){var e=this,c=parseInt(d);if(isNaN(c)||c<0||c>(this.getLength()-1)){return false}var f=a(this._getElements(0)[c]);if(!f.length){return false}if(f.hasClass("coral-toolbar-html")){f.hide();return true}f[f.attr("component-role")]("hide");return true},show:function(c){var d=this;if(typeof c==="string"){d._showById(c)}else{d._showByIndex(c)}this._refresh()},showAll:function(){var c=this;a.each(this._getElements(1),function(d,f){var e=a(f).attr("component-role");
if(e){a(f)[e]("show")}else{a(f).show()}});this._refresh()},_showById:function(g){var d=this,f=this._getSubCoral(g);if(f){var c=f.$el;if(c.hasClass("coral-toolbar-html")){c.show();return}switch(f.type){case"tieredmenu":c.tieredmenu("showItem",g);break;default:var e=a(this._findElementsByAttr(this._getElements(0),"id",g)[0]);if(!e.length){return}e[e.attr("component-role")]("show");break}}},_showByIndex:function(d){var f=this,c=parseInt(d);if(isNaN(c)||c<0||c>(this.getLength()-1)){return false}var g=a(this._getElements(0)[c]);var e=g.attr("component-role");if(!g.length){return false}if(e){g[e]("show")}else{g.show()}return true},_destroy:function(){this.uiBox.replaceWith(this.element)},_setOption:function(c,e){var d=this;if(c==="id"||c==="name"){return}if(c==="disabled"){this._setDisabled(e)}this._super(c,e)},refresh:function(){this._refresh()},_refresh:function(){this._position();a.coral.refreshAllComponent(this.element)}});a.fn.toolbar.defaults={width:"auto"}})(jQuery);