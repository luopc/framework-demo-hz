/*!
 * 组件库4.0： 消息提示窗
 *
 * 依赖JS文件:
 *	jquery.coral.core.js
 *	jquery.coral.component.js
 *	jquery.coral.mouse.js
 *  jquery.coral.button.js
 *	jquery.coral.draggable.js
 *	jquery.coral.position.js
 *	jquery.coral.resizable.js
 *	jquery.coral.dailog.js
 */
(function(a,b){a.messager={loading:{show:function(g){if(!g instanceof jQuery){g=a(g)}var f=g.attr("data-loading-id");if(!f){f=new Date().getTime();g.attr("data-loading-id","loading_"+f)}var h=a("<div id='loading_"+f+"' class='coral-loading'><div class='coral-loading-zone'></div><span class='coral-loading-text'>加载中，请稍后...</span></div>");var d=h.find(".coral-loading-zone");var c=h.find(".coral-loading-text");h.outerWidth(g.outerWidth());h.outerHeight(g.outerHeight());d.outerWidth(g.outerWidth());d.outerHeight(g.outerHeight());h.position({my:"left top",at:"left top",of:g});a(document.body).append(h);var e=(h.outerWidth()-c.outerWidth())/2;c.css({left:e})},hide:function(d){if(!d instanceof jQuery){d=a(d)}var c=d.attr("data-loading-id");if(!c){return}a("#"+c).remove();d.removeAttr("data-loading-id")}},_isType:function(f){var h="",e="",c,g=f.iconCls,i=a.inArray(f.cls,["info","success","warning","error","question","danger","alert"]);if(f.cls&&i>-1){f.type=f.cls}if(!f.type){f.type="info"}var d={warning:"cui-icon-warning2",danger:"cui-icon-cancel-circle2",error:"cui-icon-cancel-circle2",success:"cui-icon-checkmark4",alert:"cui-icon-notification2",info:"cui-icon-notification2",confirm:"cui-icon-question4"};if(f.type=="alert"){e="coral-control-info ";c=d.alert}else{if(f.type=="success"){e="coral-control-success ";c=d.success}else{if(f.type=="danger"){e="coral-control-danger ";c=d.danger}else{if(f.type=="info"){e="coral-control-info ";c=d.info}else{if(f.type=="confirm"){e="coral-control-question ";c=d.confirm}else{if(f.type=="warning"){e="coral-control-warning ";c=d.warning}}}}}}if(typeof g==="boolean"){h=g===true?h="<span class='icon-control "+e+c+"'></span>":""}if(typeof g==="string"){h="<span class='icon-control "+e+f.iconCls+"'></span>"
}return h},_init:function(i,f){if(f.queue===true){if(!a("#coral-msgBox").length){a("<div id='coral-msgBox' class='queueMessage'></div>").appendTo("body")}f.appendTo="#coral-msgBox"}var h="",e="",d,g=f.iconCls;if(f.wtype=="messageBox"){i=a("<div class='coral-messagerBox'>"+(f.iconCls||"")+"<span class='coral-messagerBox-content'>"+f.message+"</span></div>").appendTo("body")}else{if(f.wtype=="message"){h=this._isType(f);var c=g===false?"":"hasIcon ";i=a("<div class='"+c+f.type+"' role='alert'>"+h+"<span class='coral-alert-content'>"+f.message+"</span></div>").appendTo("body")}else{if(typeof f.message!=="undefined"&&f.wtype!="message"){h=this._isType(f);i=a("<div class='coral-messager-body'><span class='coral-messager-box'><span class='hasIcon coral-messager-box-content'>"+h+"<span class='coral-messager-content'>"+f.message+"</span></span></span></div>").appendTo("body")}}}return i},message:function(d,c,f){if(typeof d==="string"||typeof d==="boolean"||typeof d==="number"){d={message:d.toString(),wtype:"message"}}if(!f&&typeof c==="function"){f=c;c="info"}if(!c||a.inArray(c,["info","success","warning","error","question","danger","alert"])<0){c="info"}if(c=="error"){c="danger"}d=d||{};d=a.extend(true,{autoOpen:true,title:"消息提示",isMessage:true,show:"slideDown",hide:"slideUp",modal:false,queue:false,onClose:f,draggable:false,resizable:false,width:"auto",maxWidth:600,wtype:"message",type:c,iconCls:true,timeOut:2999},a.message.defaults,a.messageQueue.defaults,d);var e=a.messager._init(e,d);e.css("max-width",d.maxWidth+"px");e.dialog(d);if(d.wtype==="message"){a.messager.messageInstances++;a.messager.messageHeights.push(e.outerHeight())}},messageBox:function(c,e){if(typeof c==="string"||typeof c==="boolean"||typeof c==="number"){c={message:c.toString(),wtype:"messageBox"}}c=c||{};c=a.extend(true,{autoOpen:true,title:"消息提示",show:"slideDown",hide:"slideUp",isMessage:true,modal:false,draggable:false,resizable:false,width:200,wtype:"messageBox",timeOut:2999},a.messageBox.defaults,c);
var d=a.messager._init(d,c);d.dialog(c);return d},messageQueue:function(e,f,g){var d="信息提示";var c={};if(typeof e!=="string"){c=e||"";c.queue=true;g=c.callback;f=c.title||d}if(typeof f==="function"){g=f;f=d}if(f===b){f=d}c=a.extend(true,{iconCls:true,queue:true,message:e.toString(),title:f.toString()},a.messageQueue.defaults,c);a.messager.message(c);c.wtype="message"},messageToast:function(f,g,h){var d="信息提示";var c={};if(typeof f!=="string"){c=f||"";h=c.callback;g=c.title||d}if(typeof g==="function"){h=g;g=d}if(g===b){g=d}c=a.extend(true,{autoOpen:true,modal:false,show:"slideDown",hide:"slideUp",message:f.toString(),title:g.toString(),isMessage:true,draggable:false,resizable:false,iconCls:true,width:"auto",wtype:"message",timeOut:2999},a.messageToast.defaults,c);c.wtype="message";var e=a.messager._init(e,c);e.dialog(c);return e},alert:function(f,g,h){var d="信息提示";var c={};if(typeof f!=="string"){c=f||"";h=c.callback;g=c.title||d}if(typeof g==="function"){h=g;g=d}if(g===b){g=d}c=a.extend(true,{modal:true,message:f.toString(),timeOut:0,title:g.toString(),isMessage:true,width:300,icons:"cui-icon-warning2",iconCls:true,wtype:"alert"},a.alert.defaults,c);if((c.timeOut<=0||isNaN(c.timeOut))&&!c.buttons){c.buttons={"确定":function(){a(this).dialog("close");if(typeof h==="function"){h(true)}return true}}}c.wtype="alert";c.type="alert";var e=a.messager._init(e,c);e.dialog(c);return e},danger:function(f,g,h){var d="错误提示";var c={};if(typeof f!=="string"){c=f||"";h=c.callback;g=c.title||d}if(typeof g==="function"){h=g;g=d}if(g===b){g=d}c=a.extend(true,{modal:true,message:f.toString(),timeOut:0,title:g.toString(),isMessage:true,width:300,iconCls:true,icons:"cui-icon-cancel-circle2",wtype:"danger"},a.danger.defaults,c);if((c.timeOut<=0||isNaN(c.timeOut))&&!c.buttons){c.buttons={"确定":function(){a(this).dialog("close");if(typeof h==="function"){h(true)}return true}}}c.wtype="danger";c.type="danger";var e=a.messager._init(e,c);e.dialog(c);return e},success:function(f,g,h){var d="Success";
var c={};if(typeof f!=="string"){c=f||"";h=c.callback;g=c.title||d}if(typeof g==="function"){h=g;g=d}if(g===b){g=d}c=a.extend(true,{modal:true,message:f.toString(),timeOut:0,title:g.toString(),isMessage:true,width:300,iconCls:true,icons:"cui-icon-checkmark4",wtype:"success"},a.success.defaults,c);if((c.timeOut<=0||isNaN(c.timeOut))&&!c.buttons){c.buttons={"确定":function(){a(this).dialog("close");if(typeof h==="function"){h(true)}return true}}}c.wtype="success";c.type="success";var e=a.messager._init(e,c);e.dialog(c);return e},confirm:function(i,g,h){var k="确定",c="取消",f={},j={},e="信息提示";if(typeof i!=="string"){j=i||"";h=j.callback;g=j.title||e;k=j.okText?j.okText:k;c=j.cancelText?j.cancelText:c}if(typeof g==="function"){h=g;g=e}if(g===b){g=e}j=a.extend(true,{autoOpen:true,title:"确认提示",message:i.toString(),title:g.toString(),iconCls:true,isMessage:true,width:300,show:"slideDown",modal:true,icons:"cui-icon-question4",buttons:f},a.confirm.defaults,j);f[k]=function(){a(this).dialog("close");if(typeof h==="function"){h(true)}return false};f[c]=function(){a(this).dialog("close");if(typeof h==="function"){h(false)}return false};j.type="confirm";j.wtype="confirm";var d=a.messager._init(d,j);d.dialog(j);return d}};a.messager.messageInstances=0;a.messager.messageHeights=[];a.message=a.messager.message;a.messageQueue=a.messager.messageQueue;a.messageBox=a.messager.messageBox;a.messageToast=a.messager.messageToast;a.alert=a.messager.alert;a.danger=a.messager.danger;a.success=a.messager.success;a.confirm=a.messager.confirm;a.message.defaults={position:{my:"top",at:"top top+50",of:window}};a.messageQueue.defaults={position:{my:"top",at:"top top+50",of:window}};a.messageBox.defaults={position:{my:"right bottom",at:"right bottom",of:window}};a.messageToast.defaults={position:{my:"top",at:"top top+50",of:window}};a.alert.defaults={position:{my:"center",at:"center top+200",of:window}};a.danger.defaults={position:{my:"center",at:"center top+200",of:window}};a.success.defaults={position:{my:"center",at:"center top+200",of:window}};
a.confirm.defaults={position:{my:"center",at:"center top+200",of:window}}}(jQuery));