/*!
 * jQuery coral Core 4.0.1
 */
if(document.documentMode!==undefined){if(document.documentMode<=5){alert("CoralUI can not be used in this ('quirks') mode!")}}var CoralUIVersion="4.1.5";var Coral={cc:function(a,b){$.parser.component.push({componentName:a,id:b})}};var validAction=false,timer=false,resizable=true;(function($,undefined){$.coral=$.coral||{};$.coral.openTag=true;$.coral.strictLayout=false;$(document).unbind(".clearTips").bind("click.clearTips",function(e){if(validAction){validAction=false;e.stopPropagation();return}$(".coral-validate-state-error").slideUp(100,function(e){$(this).remove()});validAction=false});$(document).unbind("mousewheel").bind("mousewheel",function(e){var validateSuffix=$.validate.validateSuffix();setTimeout(function(){$.each($(".coral-validate-state-error"),function(idx,item){var className=$(item).attr("class");var componentId=className.substring(0,className.indexOf(validateSuffix));var $field=$("#"+componentId).find(".ctrl-init");var $validator=$field.parents(".coral-validate");$(item).remove();$validator.validate("validItem",$field,null,true)})},0)});$.coral.getStyles=function(el){if(window.getComputedStyle){var styles=window.getComputedStyle(el,null);return styles}else{if(document.documentElement.currentStyle){var styles=el.currentStyle;return styles}}};$.coral.fitParent=function($ele,fit){fit=(fit==undefined?true:fit);var parent=$ele.parent().closest(".ctrl-fit-element")[0];parent=$(parent);if(fit){if(!parent.hasClass("coral-noscroll")){parent.addClass("coral-noscroll");if(parent.attr("tagName")=="BODY"){$("html").addClass("coral-panel-fit")}}}else{if(parent.hasClass("coral-noscroll")){parent.removeClass("coral-noscroll");if(parent.attr("tagName")=="BODY"){$("html").removeClass("coral-panel-fit")}}}return{width:parent.width(),height:parent.height()}};$.coral.getLeft=function(my,of){var left=of.offset().left;if(left+my.outerWidth()>$(window).outerWidth()+$(document).scrollLeft()){left=$(window).outerWidth()+$(document).scrollLeft()-my.outerWidth()
}if(left<0){left=0}return left};$.coral.getTop=function(my,of,direction){var top=of.offset().top+of.outerHeight();if(direction=="up"){top=of.offset().top-my.outerHeight()}else{if(top+my.outerHeight()>$(window).outerHeight()+$(document).scrollTop()){top=of.offset().top-my.outerHeight()}if(top<$(document).scrollTop()){top=of.offset().top+of.outerHeight()}}return top};$.coral.findComponent=function(selector,context){var component=[];if(!selector){selector=".ctrl-init"}var init=$(selector,context);var rclass=/[\t\r\n]/g;if(init.length){$.each(init,function(){var name="",className=this.className.replace(rclass," ").split(" "),i=0,l=className.length;for(;i<l;i++){name=$(this).attr("component-role");if(name=="datepicker"){component.push([{element:$(this),name:name}])}else{component.push($(this)[name]("instance"))}break}})}return component};$.coral.setIslabel=function(isSet,context){var fields=$.coral.findComponent(".ctrl-form-element",context),i=0,l=fields.length;for(i;i<l;i++){var c=fields[i];if(c instanceof Array){$(c[0].element)[c[0].name]("option","isLabel",isSet)}else{c._setOption("isLabel",isSet);if(c.element.hasClass("hasTooltip")){if(isSet==false){c.element.tooltip("enable")}else{c.element.tooltip("disable")}}}}};$.coral.setReadOnly=function(isSet,context){var fields=$.coral.findComponent(".ctrl-form-element",context),i=0,l=fields.length;for(i;i<l;i++){var c=fields[i];if(c instanceof Array){$(c[0].element)[c[0].name]("option","readonly",isSet)}else{c._setOption("readonly",isSet);if(c.element.hasClass("hasTooltip")){if(isSet==false){c.element.tooltip("enable")}else{c.element.tooltip("disable")}}}}};$.coral.renderComponent=function(context){var component=[];var selector=".coral-no-rendered";if(!context){context="body"}var init=$(selector,context);var rclass=/[\t\r\n]/g;if(init.length){$.each(init,function(){var name="",className=this.className.replace(rclass," ").split(" "),i=0,l=className.length;for(;i<l;i++){name=$(this).attr("component-role");rendered=$(this).prop("rendered");
if(!rendered){$(this).removeClass("coral-no-rendered");var ins=$(this)[name]("instance");$(this).addClass("ctrl-init ctrl-init-"+this.componentName);ins._create();ins._renderComponent()}break}})}return component};$.coral.valid={};$.coral.valid=function(element){validAction=true;var count=0,excluded=$.data(element,"excluded"),validElements=element.find($("[class*='coral-validation-']")),errTipsType=null,hasErrorTips=true;if(excluded&&"string"===typeof excluded){excluded=$.map(excluded.split(","),function(item){return $.trim(item)})}if("form"===element[0].tagName.toLowerCase()){errTipsType=element.form("option","errTipsType")}validElements.each(function(){var className=this.className,coralType="",clsArray=className.split(" ");for(var item in clsArray){if(clsArray[item].indexOf("coral-validation-")>=0){coralType=clsArray[item].substr(clsArray[item].indexOf("coral-validation-")+17);break}}if(_isExclud($(this)[coralType]("component"),excluded)){return}if("none"===errTipsType){hasErrorTips=false}if(!_valid($(this),coralType,hasErrorTips)){if("first"===errTipsType){hasErrorTips=false}++count}});if(count>0){return false}else{return true}function _isExclud($component,excluded){if(!excluded){return false}var length=excluded.length;for(var i=0;i<length;i++){if("string"===typeof excluded[i]&&$component.is(excluded[i])){return true}}return false}function _valid($element,coralType,hasErrorTips){if("datepicker"==coralType){return $element[coralType]("valid",$element,hasErrorTips)}if($.inArray(coralType,["textbox","combobox","combotree","radio","radiolist","checkbox","checkboxlist"])>-1){return $element[coralType]("valid",hasErrorTips)}}};jQuery.support.placeholder=(function(){var i=document.createElement("input");return"placeholder" in i})();var uuid=0,runiqueId=/^coral-id-\d+$/;$.extend($.coral,{version:"4.0.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},zindex:1000});var timer=false;
$.fn.extend({scrollParent:function(includeHidden){var position=this.css("position"),excludeStaticParent=position==="absolute",overflowRegex=includeHidden?/(auto|scroll|hidden)/:/(auto|scroll)/,scrollParent=this.parents().filter(function(){var parent=$(this);if(excludeStaticParent&&parent.css("position")==="static"){return false}return overflowRegex.test(parent.css("overflow")+parent.css("overflow-y")+parent.css("overflow-x"))}).eq(0);return position==="fixed"||!scrollParent.length?$(this[0].ownerDocument||document):scrollParent},uniqueId:function(){return this.each(function(){if(!this.id){this.id="coral-id-"+(++uuid)}})},removeUniqueId:function(){return this.each(function(){if(runiqueId.test(this.id)){$(this).removeAttr("id")}})},closestComponent:function(selector){return this.each(function(){$(this).closest(".ctrl-init-"+selector)})}});function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();if("area"===nodeName){map=element.parentNode;mapName=map.name;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map"){return false}img=$("img[usemap='#"+mapName+"']")[0];return !!img&&visible(img)}return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element)}function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().addBack().filter(function(){return $.css(this,"visibility")==="hidden"}).length}$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return !!$.data(elem,dataName)}}):function(elem,i,match){return !!$.data(elem,match[3])},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")))},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN)}});if(!$("<a>").outerWidth(1).jquery){$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};
function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0;if(border){size-=parseFloat($.css(elem,"border"+this+"Width"))||0}if(margin){size-=parseFloat($.css(elem,"margin"+this))||0}});return size}$.fn["inner"+name]=function(size){if(size===undefined){return orig["inner"+name].call(this)}return this.each(function(){$(this).css(type,reduce(this,size)+"px")})};$.fn["outer"+name]=function(size,margin){if(typeof size!=="number"){return orig["outer"+name].call(this,size)}return this.each(function(){$(this).css(type,reduce(this,size,true,margin)+"px")})}})}if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector))}}if($("<a>").data("a-b","a").removeData("a-b").data("a-b")){$.fn.removeData=(function(removeData){return function(key){if(arguments.length){return removeData.call(this,$.camelCase(key))}else{return removeData.call(this)}}})($.fn.removeData)}$.coral.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());$.fn.extend({focus:(function(orig){return function(delay,fn){return typeof delay==="number"?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus();if(fn){fn.call(elem)}},delay)}):orig.apply(this,arguments)}})($.fn.focus),disableSelection:(function(){var eventType="onselectstart" in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(eventType+".coral-disableSelection",function(event){event.preventDefault()})}})(),enableSelection:function(){return this.unbind(".coral-disableSelection")},zIndex:function(zIndex){if(zIndex!==undefined){return this.css("zIndex",zIndex)}if(this.length){var elem=$(this[0]),position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0){return value}}elem=elem.parent()}}return 0}});$.extend($.coral,{plugin:{add:function(module,option,set){var i,proto=$.coral[module].prototype;
for(i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]])}},call:function(instance,name,args,allowDisconnected){var i,set=instance.plugins[name];if(!set){return}if(!allowDisconnected&&(!instance.element[0].parentNode||instance.element[0].parentNode.nodeType===11)){return}for(i=0;i<set.length;i++){if(instance.options[set[i][0]]){set[i][1].apply(instance.element,args)}}}},toFunction:function(fn){var ns=null,i=0,_fn=null;if($.isFunction(fn)){return fn}if(typeof fn==="string"){if($.isFunction(window[fn])){return window[fn]}try{_fn=eval("("+fn+")");if($.isFunction(_fn)){return _fn}}catch(e){}if(fn.indexOf(".")>0){ns=fn.split(".");_fn=window[ns[0]];if(!_fn){return null}for(i=1;i<ns.length;i++){_fn=_fn[ns[i]];if(!_fn){return null}}}return _fn}return fn}});$.extend({loadJson:function(url,params){var data=null;$.ajax({url:url,type:"get",dataType:"json",async:false,data:params,success:function(rlt){data=rlt},error:function(req,error,errThrow){$.error("function load json error: "+error)}});return data},isCoral:function(elem,type){if(arguments.length<2||!elem){return false}if(elem.jquery){elem=elem.get(0)}return !!$.data(elem,"coral-"+type)}});$.extend($.coral,{contextPathFun:function(){var curWwwPath=window.document.location.href;var pathName=window.document.location.pathname;var pos=curWwwPath.indexOf(pathName);var localhostPaht=curWwwPath.substring(0,pos);var projectName=pathName.substring(0,pathName.substr(1).indexOf("/")+1);return projectName},adjusted:function(element){var maxHeight,$element=$(element),parent=$element.parent();maxHeight=parent.height();$element.siblings(":visible").each(function(){var elem=$(this),position=elem.css("position");if(position==="absolute"||position==="fixed"){return}maxHeight-=elem.outerHeight(true)});$element.height(Math.max(0,maxHeight-$element.innerHeight()+$element.height())).addClass("coral-scroll");$.coral.refreshAllComponent(element);$.coral.fitParent(parent,true)},beforeDoOverflow:function(element){},doOverflow:function(element){},isFit:function(com,pCom){var closestPCom=$(com).parent().closest(".ctrl-fit-element");
if(!closestPCom.length){closestPCom=$("body")}var isBestFit=closestPCom.length&&(closestPCom[0]===$(pCom)[0]||closestPCom.find(pCom).length);return isBestFit},refreshAllComponent:function(parentComponent){$.coral.beforeDoOverflow();if(typeof(parentComponent)=="undefined"){parentComponent="body"}var layoutSet=null;if($.coral.strictLayout){layoutSet=$(parentComponent).children(".fill:visible, .ctrl-fit-element:visible, .coral-adjusted:visible")}else{layoutSet=$(parentComponent).find(".ctrl-fit-element:visible, .fill:visible, .coral-adjusted:visible")}layoutSet.each(function(){if($(this).hasClass("coral-adjusted")||$(this).hasClass("fill")){$(this).addClass("ctrl-fit-element coral-scroll")}var type=$(this).attr("component-role");if(!type){if($(this).hasClass("coral-adjusted")||$(this).hasClass("fill")){$.coral.adjusted(this)}}else{if($.coral.isFit($(this)[type]("component"),parentComponent)){$(this)[type]("refresh")}}});$.coral.doOverflow()}});$.coral.contextPath=$.coral.contextPathFun.apply()})(jQuery);(function(a){a.fn.caret=function(h){var g=this[0];var d=g.contentEditable==="true";if(arguments.length==0){if(window.getSelection){if(d){g.focus();var c=window.getSelection().getRangeAt(0),b=c.cloneRange();b.selectNodeContents(g);b.setEnd(c.endContainer,c.endOffset);return b.toString().length}return g.selectionStart}if(document.selection){g.focus();if(d){var c=document.selection.createRange(),b=document.body.createTextRange();b.moveToElementText(g);b.setEndPoint("EndToEnd",c);return b.text.length}var h=0,e=g.createTextRange(),b=document.selection.createRange().duplicate(),f=b.getBookmark();e.moveToBookmark(f);while(e.moveStart("character",-1)!==0){h++}return h}if(g.selectionStart){return g.selectionStart}return 0}if(h==-1){h=this[d?"text":"val"]().length}if(window.getSelection){if(d){g.focus();window.getSelection().collapse(g.firstChild,h)}else{g.setSelectionRange(h,h)}}else{if(document.body.createTextRange){if(d){var e=document.body.createTextRange();e.moveToElementText(g);
e.moveStart("character",h);e.collapse(true);e.select()}else{var e=g.createTextRange();e.move("character",h);e.select()}}}if(!d){g.focus()}return h}})(jQuery);