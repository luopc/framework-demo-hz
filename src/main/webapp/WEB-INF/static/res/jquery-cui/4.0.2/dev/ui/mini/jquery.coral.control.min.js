/*!
 * 组件库4.0：下拉框
 * 
 * 依赖JS文件：
 *    jquery.coral.core.js
 *    jquery.coral.component.js
 *    jquery.coral.panel.js
 *    jquery.validatehelper.js
 */
(function(a){a.component("coral.formelement",{version:"4.0.2",options:{},getValidateValue:function(){return this.getValue()},clearError:function(){this.component().removeClass("hasErrorIcon coral-validate-error");this.component().find(".coral-errorIcon").remove();this.element.prop("isError",false)}})})(jQuery);(function(a){a.component("coral.inputbase",a.coral.formelement,{version:"4.0.2",options:{inputButtonGutter:5},_outerButtons:function(){this.uiDialogOuterButtonPanel=a("<span/>",{className:"coral-outerbuttonset coral-corner-all"});this.component().append(this.uiDialogOuterButtonPanel);this._createButtons(this.options.buttonOptions,null,this.uiDialogOuterButtonPanel);this.component().css("padding-right",this.uiDialogOuterButtonPanel.outerWidth()+8)},_createButtonPanel:function(){var f=false,d,g="right",h="inner",c="innerRight",b="prepend",e=this.options.buttons;for(d=0;d<this.options.buttons.length;d++){if(e[d]["innerLeft"]){c="innerLeft";g="left";if(e[d]["innerLeft"][0].type&&e[d]["innerLeft"][0].type=="combobox"){this._addComboboxPanel(h,c,g,b,d);f=true}else{this._addButtonPanel(h,c,g,b,d);f=true}}if(e[d]["innerRight"]){c="innerRight";g="right";b="append";if(e[d]["innerRight"][0].type&&e[d]["innerRight"][0].type=="combobox"){this._addComboboxPanel(h,c,g,b,d);f=true}else{this._addButtonPanel(h,c,g,b,d);f=true}}if(e[d]["outerRight"]){c="outerRight";g="right";h="outer";b="append";if(e[d]["outerRight"][0].type&&e[d]["outerRight"][0].type=="combobox"){this._addComboboxPanel(h,c,g,b,d);f=true}else{this._addButtonPanel(h,c,g,b,d);f=true}}if(e[d]["outerLeft"]){c="outerLeft";g="left";h="outer";if(e[d]["outerLeft"][0].type&&e[d]["outerLeft"][0].type=="combobox"){this._addComboboxPanel(h,c,g,b,d);f=true}else{this._addButtonPanel(h,c,g,b,d);f=true}}if(e[d]["floatRight"]){c="floatRight";h="float";b="append";if(e[d]["floatRight"][0].type&&e[d]["floatRight"][0].type=="combobox"){this._addComboboxPanel(h,c,g,b,d);
f=true}else{this._addButtonPanel(h,c,g,b,d);f=true}}if(e[d]["floatLeft"]){c="floatLeft";g="left";h="float";if(e[d]["floatLeft"][0].type&&e[d]["floatLeft"][0].type=="combobox"){this._addComboboxPanel(h,c,g,b,d);f=true}else{this._addButtonPanel(h,c,g,b,d);f=true}}}if(!f){this.uiDialogButtonPanel=a("<span class='"+c+" coral-textbox-btn-icons coral-buttonset coral-corner-"+g+" '></span>");this._createButtons(this.options.buttons,g,this.uiDialogButtonPanel);this.elementBorder.append(this.uiDialogButtonPanel);this.elementBorder.css("padding-right",this.uiDialogButtonPanel.outerWidth());this.uiDialogButtonPanel.css("right",0);this.rightPos=this.uiDialogButtonPanel.outerWidth()}},_addButtonPanel:function(f,d,e,b,c){this._addPanel(f,d,e,b,c,"button")},_addComboboxPanel:function(f,d,e,b,c){this._addPanel(f,d,e,b,c,"comboButton")},_addPanel:function(f,j,g,k,c,d){var e=this;function h(m,n,i,l){if(l=="button"){e._createButtons(m,n,i)}else{if(f=="outer"){e._createCombobox(m,f+n,i)}else{e._createCombobox(m,n,i)}}}this.uiButtonPanel=a("<span class='"+j+" coral-textbox-btn-icons coral-buttonset coral-inner coral-corner-"+g+" '></span>");this.uiOuterButtonPanel=a('<span class="coral-outerbuttonset coral-outer coral-corner-all "></span>');if(f=="inner"){h(this.options.buttons[c][j],g,this.uiButtonPanel,d);this.elementBorder[k](this.uiButtonPanel);this.elementBorder.css("padding-"+g,this.uiButtonPanel.outerWidth());this.uiButtonPanel.css(g,0)}else{if(f=="float"){this.component()[k](this.uiOuterButtonPanel);h(this.options.buttons[c][j],null,this.uiOuterButtonPanel,d);this.uiOuterButtonPanel.css(g,-(this.uiOuterButtonPanel.outerWidth()+this.options.inputButtonGutter))}else{this.component()[k](this.uiOuterButtonPanel);h(this.options.buttons[c][j],g,this.uiOuterButtonPanel,d,f);var b=this.uiOuterButtonPanel.outerWidth();this.component().css("padding-"+g,this.uiOuterButtonPanel.outerWidth()+this.options.inputButtonGutter);this.uiOuterButtonPanel.css(g,0).css("width",b)}}if(f+g==="innerright"){this.rightPos=this.uiButtonPanel.outerWidth()
}},_createButtons:function(d,e,b){var c=this;if(a.isEmptyObject(d)){d={}}if(d instanceof Array==false){d=[d]}a.each(d,function(h){var l,g="",f="",k,j=a.extend({type:"button"},{click:this.click});this.click=this.onClick||this.click;delete this.onClick;k=this.click||a.noop;j.click=function(){k.apply(c.element[0],arguments)};delete this.click;f="coral-corner-all";if(e=="left"){if(h==0){g="coral-corner-left"}a("<button></button>",j).button(this).addClass(g).removeClass(f).appendTo(b)}else{if(e=="right"){if(h==(d.length-1)){g="coral-corner-right"}a("<button></button>",j).button(this).addClass(g).removeClass(f).appendTo(b)}else{a("<button></button>",j).button(this).addClass(g).appendTo(b)}}this.click=k})},_createCombobox:function(b,e,c){var d=this;if(a.isEmptyObject(b)){b={}}if(b instanceof Array===false){b=[b]}a.each(b,function(j){var h="",g="";g="coral-corner-all";delete this.type;this.width="item";if(e=="left"){if(j===0){h="coral-corner-left"}h="coral-inner-left"}else{if(e=="right"){if(j==(b.length-1)){h="coral-corner-right"}h="coral-corner-right"}else{if(e=="outerright"){h="coral-out-right"}else{if(e=="outerleft"){h="coral-out-left"}}}}var f=a("<input type='text'/>").appendTo("body");f.off(".aaa").on("comboboxonload.aaa",{target:f},function(i){d.load.apply(i.data.target.combobox("instance"))}).on("comboboxonchange.aaa",{target:f},function(i){d.load.apply(i.data.target.combobox("instance"))}).combobox(this);f.combobox("component").addClass(h).removeClass(g).appendTo(c).addClass("coral-DropDownButton")})},load:function(){var c=this.options,b=0;if(this.component().closest(".coral-inner")){if(this.component().hasClass("coral-inner-left")){a(".coral-inner").find(".coral-inner-left").each(function(){b+=a(this).width()});var d=this.component().closest(".coral-textbox-border");d.css("padding-left",b)}}if(this.component().closest(".coral-outer")){if(this.component().hasClass("coral-out-right")){this._getOuterButton("right")}else{if(this.component().hasClass("coral-out-left")){this._getOuterButton("left")
}}}},_getOuterButton:function(d){var c=this.options.inputButtonGutter,b=0;if(this.component().hasClass("coral-out-"+d)){a(".coral-outer").find(".coral-out-"+d).each(function(){b+=a(this).width()});this.component().closest(".coral-outer").css("width",b);this.component().closest(".coral-outer").closest(".coral-textbox").css("padding-"+d,b+c)}}})})(jQuery);