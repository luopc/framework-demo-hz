/*!
 * jQuery coral component 4.0.1
 */
(function(){var a=0,b=Array.prototype.slice;$.cleanData=(function(c){return function(d){var g,h,f;for(f=0;(h=d[f])!=null;f++){try{g=$._data(h,"events");if(g&&g.remove){$(h).triggerHandler("remove")}}catch(j){}}c(d)}})($.cleanData);$.component=function(c,d,k){var h,i,f,j,e={},g=c.split(".")[0];c=c.split(".")[1];h=g+"-"+c;if(!k){k=d;d=$.Component}$.expr[":"][h.toLowerCase()]=function(l){return !!$.data(l,h)};$[g]=$[g]||{};i=$[g][c];f=$[g][c]=function(l,m){if(!this._createComponent){return new f(l,m)}if(arguments.length){l=$.component.extend({},$.fn[c].defaults||{},this._parseOptions(m),l);this._createComponent(l,m)}};$.extend(f,i,{version:k.version,_proto:$.extend({},k),_childConstructors:[]});j=new d();j.options=$.component.extend({},j.options);$.each(k,function(m,l){if(!$.isFunction(l)){e[m]=l;return}e[m]=(function(){var n=function(){return d.prototype[m].apply(this,arguments)},o=function(p){return d.prototype[m].apply(this,p)};return function(){var r=this._super,p=this._superApply,q;this._super=n;this._superApply=o;q=l.apply(this,arguments);this._super=r;this._superApply=p;return q}})()});f.prototype=$.component.extend(j,{componentEventPrefix:i?(j.componentEventPrefix||c):c},e,{constructor:f,namespace:g,componentName:c,componentFullName:h});if(i){$.each(i._childConstructors,function(m,n){var l=n.prototype;$.component(l.namespace+"."+l.componentName,f,n._proto)});delete i._childConstructors}else{d._childConstructors.push(f)}$.component.bridge(c,f);return f};$.component.extend=function(h){var d=b.call(arguments,1),g=0,c=d.length,e,f;for(;g<c;g++){for(e in d[g]){f=d[g][e];if(d[g].hasOwnProperty(e)&&f!==undefined){if($.isPlainObject(f)){h[e]=$.isPlainObject(h[e])?$.component.extend({},h[e],f):$.component.extend({},f)}else{h[e]=f}}}}return h};$.component.bridge=function(d,c){var e=c.prototype.componentFullName||d;$.fn[d]=function(h){var f=typeof h==="string",g=b.call(arguments,1),i=this;h=!f&&g.length?$.component.extend.apply(null,[h].concat(g)):h;
if(f){this.each(function(){var k,j=$.data(this,e);if(!j){return $.error("cannot call methods on "+d+" prior to initialization; attempted to call method '"+h+"'")}if(h==="instance"){i=j;return false}if(!$.isFunction(j[h])||h.charAt(0)==="_"){return $.error("no such method '"+h+"' for "+d+" component instance")}k=j[h].apply(j,g);if(k!==j&&k!==undefined){i=k&&k.jquery?i.pushStack(k.get()):k;return false}})}else{this.each(function(){var j=$.data(this,e);if(j){j.option(h||{});if(j._init){j._init()}}else{$.data(this,e,new c(h,this))}})}return i}};$.Component=function(){};$.Component._childConstructors=[];$.Component.prototype={componentName:"component",componentEventPrefix:"",defaultElement:"<div>",castProperties:null,options:{disabled:false,authorized:true,rendered:true,onCreate:null},formFieldArray:["autocomplete","autocompletetree","combobox","combotree","combogrid","checkbox","checkboxlist","datepicker","radio","radiolist","spinner","textbox","fileuploader"],panelArray:["accordion","dialog","form","grid","layout","panel","tabs","toolbar","splitcontainer","view"],_createComponent:function(c,d){var e=this;d=$(d||this.defaultElement||this)[0];this.element=$(d);this.uuid=a++;this.eventNamespace="."+this.componentName+this.uuid;if(!this.element.attr("component-role")){this.element.attr("component-role",this.componentName)}this.options=$.component.extend({},this.options,this._getCreateOptions(),c);if(!this.options.authorized||this.options.authorized==="false"){this.element.remove()}this.bindings=$();this.hoverable=$();this.focusable=$();if(d!==this){$.data(d,this.componentFullName,this);this._on(true,this.element,{remove:function(f){if(f.target===d){this.destroy()}}});this.document=$(d.style?d.ownerDocument:d.document||d);this.window=$(this.document[0].defaultView||this.document[0].parentWindow)}this.element.prop("rendered",!!this.options.rendered);if(!this.options.rendered){this.element.addClass("coral-no-rendered");return}else{this.element.addClass("ctrl-init ctrl-init-"+this.componentName);
this._create()}this._renderComponent()},_renderComponent:function(){if(this.options.componentCls){this.component().addClass(this.options.componentCls)}if(this.options.cls){this.element.addClass(this.options.cls)}if($.inArray(this.componentName,this.formFieldArray)>-1){this.element.addClass("ctrl-form-element coral-validation-"+this.componentName);$.validate.addField(this.element,this.options)}if($.inArray(this.componentName,this.panelArray)>-1){this.component().addClass("ctrl-fit-element")}if(typeof this.element.attr("id")!="undefined"){this.options.id=this.element.attr("id")}else{if(this.options.id){this.element.attr("id",this.options.id)}else{this.options.id=this.element.uniqueId(this.componentName).attr("id")}}this.component().attr("component-id",this.options.id);this._trigger("onCreate",null,this._getCreateEventData());this._init()},_parseOptions:function(d){var c=$(d);return $.extend({},$.parser.parseOptions(d,[],this.castProperties))},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,valid:function(){var c={hasTips:false,element:this.element};return($.validate.validateField(null,c).length>0?false:true)},isValid:function(){},destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.componentName).removeData(this.componentFullName).removeData($.camelCase(this.componentFullName));this.element.removeClass("ctrl-form-element ctrl-init ctrl-init-"+this.componentName);this.component().unbind(this.eventNamespace).removeAttr("aria-disabled").removeAttr("component-role").removeClass(this.componentFullName+"-disabled coral-state-disabled");this.element.removeAttr("component-role");this.element.removeAttr("data-options");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("coral-state-hover");this.focusable.removeClass("coral-state-focus")},_destroy:$.noop,component:function(){return this.element},option:function(f,g){var c=f,h,e,d;if(arguments.length===0){return $.component.extend({},this.options)
}if(typeof f==="string"){c={};h=f.split(".");f=h.shift();if(h.length){e=c[f]=$.component.extend({},this.options[f]);for(d=0;d<h.length-1;d++){e[h[d]]=e[h[d]]||{};e=e[h[d]]}f=h.pop();if(arguments.length===1){return e[f]===undefined?null:e[f]}e[f]=g}else{if(arguments.length===1){return this.options[f]===undefined?null:this.options[f]}c[f]=g}}this._setOptions(c);return this},_setOptions:function(c){var d;for(d in c){this._setOption(d,c[d]);this.element.trigger("onOptionChange",{key:d,value:c[d]})}return this},_setOption:function(c,d){this.options[c]=d;if(c==="disabled"){this.component().toggleClass(this.componentFullName+"-disabled coral-state-disabled",!!d).attr("aria-disabled",d);if(d){this.hoverable.removeClass("coral-state-hover");this.focusable.removeClass("coral-state-focus")}}return this},enable:function(){return this._setOptions({disabled:false})},disable:function(){return this._setOptions({disabled:true})},show:function(){this.component().removeClass("coral-state-hidden").show()},hide:function(){this.component().addClass("coral-state-hidden").hide()},_pinyinEngine:function(){return new pinyinEngine()},_pinyinSetCache:function(f,d,e){for(var c in e){f.setCache([e[c][d]],e[c])}return f},_pinyinSearch:function(e,d,f){var c=[];e.search(d,function(g){c.push(g)});f(c)},_on:function(f,e,d){var g,c=this;if(typeof f!=="boolean"){d=e;e=f;f=false}if(!d){d=e;e=this.element;g=this.component()}else{e=g=$(e);this.bindings=this.bindings.add(e)}$.each(d,function(m,l){function j(){if(!f&&(c.options.disabled===true||$(this).hasClass("coral-state-disabled"))){return}return(typeof l==="string"?c[l]:l).apply(c,arguments)}if(typeof l!=="string"){j.guid=l.guid=l.guid||j.guid||$.guid++}var k=m.match(/^([\w:-]*)\s*(.*)$/),i=k[1]+c.eventNamespace,h=k[2];if(h){g.delegate(h,i,j)}else{e.bind(i,j)}})},_off:function(d,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;d.unbind(c).undelegate(c)},_delay:function(f,e){function d(){return(typeof f==="string"?c[f]:f).apply(c,arguments)
}var c=this;return setTimeout(d,e||0)},_hoverable:function(c){this.hoverable=this.hoverable.add(c);this._on(c,{mouseenter:function(d){$(d.currentTarget).addClass("coral-state-hover")},mouseleave:function(d){$(d.currentTarget).removeClass("coral-state-hover")}})},_focusable:function(c){this.focusable=this.focusable.add(c);this._on(c,{focusin:function(d){$(d.currentTarget).addClass("coral-state-focus")},focusout:function(d){$(d.currentTarget).removeClass("coral-state-focus")}})},addNoTrigger:function(c){this.options.noTriggerEvent.push(c)},_trigger:function(j,d,f){var g=this.options.noTriggerEvent||[];if(g.length){for(var h=0;h<g.length;h++){if(j==g[h]){g.splice(h,1);return}}}var e=this.options[j];if(this.options.controllerName&&typeof e==="string"){e=this.options.controllerName+"."+e}var c,l,k=$.isFunction(j)?j:$.coral.toFunction(e),m={};f=f||{};d=$.Event(d);d.type=(j===this.componentEventPrefix?j:this.componentEventPrefix+j).toLowerCase();d.target=this.element[0];l=d.originalEvent;if(l){for(c in l){if(!(c in d)){d[c]=l[c]}}}this.element.trigger(d,f);d.data=d.data||{};$.extend(d.data,this.options.dataCustom);$.extend(d.data,{controllerName:this.options.controllerName});var n;n=$.controller(this.options.controllerName);if(this.options.controllerName&&!$.isFunction(this.options[j])&&n){$.extend(d.data,{element:this.element[0]})}else{n=this.element[0]}return !($.isFunction(k)&&k.apply(n,[d].concat(f))===false||d.isDefaultPrevented())}};$.each({show:"fadeIn",hide:"fadeOut"},function(d,c){$.Component.prototype["_"+d]=function(g,f,i){if(typeof f==="string"){f={effect:f}}var h,e=!f?d:f===true||typeof f==="number"?c:f.effect||c;f=f||{};if(typeof f==="number"){f={duration:f}}h=!$.isEmptyObject(f);f.complete=i;if(f.delay){g.delay(f.delay)}if(h&&$.effects&&$.effects.effect[e]){g[d](f)}else{if(e!==d&&g[e]){g[e](f.duration,f.easing,i)}else{g.queue(function(j){$(this)[d]();if(i){i.call(g[0])}j()})}}}})})();