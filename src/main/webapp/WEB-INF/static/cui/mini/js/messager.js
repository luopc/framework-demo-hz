/*!
 * 组件库4.0： 消息提示窗
 *
 * 依赖JS文件:
 *	jquery.coral.core.js
 *	jquery.coral.component.js
 *	jquery.coral.mouse.js
 *  jquery.coral.button.js
 *	jquery.coral.draggable.js
 *	jquery.coral.position.js
 *	jquery.coral.resizable.js
 *	jquery.coral.dailog.js
 */
$.messager={loading:{show:function(e){if(!e instanceof jQuery){e=$(e)}var d=e.attr("data-loading-id");if(!d){d=new Date().getTime();e.attr("data-loading-id","loading_"+d)}var f=$("<div id='loading_"+d+"' class='coral-loading'><div class='coral-loading-zone'></div><span class='coral-loading-text'>加载中，请稍后...</span></div>");var b=f.find(".coral-loading-zone");var a=f.find(".coral-loading-text");f.outerWidth(e.outerWidth());f.outerHeight(e.outerHeight());b.outerWidth(e.outerWidth());b.outerHeight(e.outerHeight());f.position({my:"left top",at:"left top",of:e});$(document.body).append(f);var c=(f.outerWidth()-a.outerWidth())/2;a.css({left:c})},hide:function(b){if(!b instanceof jQuery){b=$(b)}var a=b.attr("data-loading-id");if(!a){return}$("#"+a).remove();b.removeAttr("data-loading-id")}},_isType:function(d){var f="",c="",a,e=d.iconCls,g=$.inArray(d.cls,["info","success","warning","error","question","danger","alert"]);if(d.cls&&g>-1){d.type=d.cls}if(!d.type){d.type="info"}var b={warning:"cui-icon-warning2",danger:"cui-icon-cancel-circle2",error:"cui-icon-cancel-circle2",success:"cui-icon-checkmark4",alert:"cui-icon-notification2",info:"cui-icon-notification2",confirm:"cui-icon-question4"};if(d.type=="alert"){c="coral-control-info ";a=b.alert}else{if(d.type=="success"){c="coral-control-success ";a=b.success}else{if(d.type=="danger"){c="coral-control-danger ";a=b.danger}else{if(d.type=="info"){c="coral-control-info ";a=b.info}else{if(d.type=="confirm"){c="coral-control-question ";a=b.confirm}else{if(d.type=="warning"){c="coral-control-warning ";a=b.warning}}}}}}if(typeof e==="boolean"){f=e===true?f="<span class='icon-control "+c+a+"'></span>":""}if(typeof e==="string"){f="<span class='icon-control "+c+d.iconCls+"'></span>"}return f
},_init:function(g,d){if(d.queue===true){if(!$("#coral-msgBox").length){$("<div id='coral-msgBox' class='queueMessage'style='z-index:9999999999'></div>").appendTo("body")}d.appendTo="#coral-msgBox"}var f="",c="",b,e=d.iconCls;if(d.wtype=="messageBox"){g=$("<div class='coral-messagerBox'>"+(d.iconCls||"")+"<span class='coral-messagerBox-content'>"+d.message+"</span></div>").appendTo("body")}else{if(d.wtype=="message"){f=this._isType(d);var a=e===false?"":"hasIcon ";g=$("<div class='"+a+d.type+"' role='alert'>"+f+"<span class='coral-alert-content'>"+d.message+"</span></div>").appendTo("body")}else{if(typeof d.message!=="undefined"&&d.wtype!="message"){f=this._isType(d);g=$("<div class='coral-messager-body'><span class='coral-messager-box'><span class='hasIcon coral-messager-box-content'>"+f+"<span class='coral-messager-content'>"+d.message+"</span></span></span></div>").appendTo("body")}}}return g},message:function(b,a,d){if(typeof b==="string"||typeof b==="boolean"||typeof b==="number"){b={message:b.toString(),wtype:"message"}}if(!d&&typeof a==="function"){d=a;a="info"}if(!a||$.inArray(a,["info","success","warning","error","question","danger","alert"])<0){a="info"}if(a=="error"){a="danger"}b=b||{};b=$.extend(true,{autoOpen:true,title:"消息提示",isMessage:true,show:"slideDown",hide:"slideUp",modal:false,queue:false,onClose:d,draggable:false,resizable:false,width:"auto",maxWidth:600,wtype:"message",type:a,iconCls:true,timeOut:2999},$.message.defaults,$.messageQueue.defaults,b);var c=$.messager._init(c,b);c.css("max-width",b.maxWidth+"px");c.dialog(b);if(b.wtype==="message"){$.messager.messageInstances++;$.messager.messageHeights.push(c.outerHeight())}},messageBox:function(a,c){if(typeof a==="string"||typeof a==="boolean"||typeof a==="number"){a={message:a.toString(),wtype:"messageBox"}}a=a||{};a=$.extend(true,{autoOpen:true,title:"消息提示",show:"slideDown",hide:"slideUp",isMessage:true,modal:false,draggable:false,resizable:false,width:200,wtype:"messageBox",timeOut:2999},$.messageBox.defaults,a);
var b=$.messager._init(b,a);b.dialog(a);return b},messageQueue:function(c,d,e){var b="信息提示";var a={};if(typeof c!=="string"){a=c||"";a.queue=true;e=a.callback;d=a.title||b}if(typeof d==="function"){e=d;d=b}if(d===undefined){d=b}a=$.extend(true,{iconCls:true,queue:true,message:c.toString(),title:d.toString()},$.messageQueue.defaults,a);$.messager.message(a);a.wtype="message"},messageToast:function(d,e,f){var b="信息提示";var a={};if(typeof d!=="string"){a=d||"";f=a.callback;e=a.title||b}if(typeof e==="function"){f=e;e=b}if(e===undefined){e=b}a=$.extend(true,{autoOpen:true,modal:false,show:"slideDown",hide:"slideUp",message:d.toString(),title:e.toString(),isMessage:true,draggable:false,resizable:false,iconCls:true,width:"auto",wtype:"message",timeOut:2999},$.messageToast.defaults,a);a.wtype="message";var c=$.messager._init(c,a);c.dialog(a);return c},alert:function(d,e,f){var b="信息提示";var a={};if(typeof d!=="string"){a=d||"";f=a.callback;e=a.title||b}if(typeof e==="function"){f=e;e=b}if(e===undefined){e=b}a=$.extend(true,{modal:true,message:d.toString(),timeOut:0,title:e.toString(),isMessage:true,width:300,icons:"cui-icon-warning2",iconCls:true,wtype:"alert"},$.alert.defaults,a);if((a.timeOut<=0||isNaN(a.timeOut))&&!a.buttons){a.buttons={"确定":function(){$(this).dialog("close");if(typeof f==="function"){f(true)}return true}}}a.wtype="alert";a.type="alert";var c=$.messager._init(c,a);c.dialog(a);return c},danger:function(d,e,f){var b="错误提示";var a={};if(typeof d!=="string"){a=d||"";f=a.callback;e=a.title||b}if(typeof e==="function"){f=e;e=b}if(e===undefined){e=b}a=$.extend(true,{modal:true,message:d.toString(),timeOut:0,title:e.toString(),isMessage:true,width:300,iconCls:true,icons:"cui-icon-cancel-circle2",wtype:"danger"},$.danger.defaults,a);if((a.timeOut<=0||isNaN(a.timeOut))&&!a.buttons){a.buttons={"确定":function(){$(this).dialog("close");if(typeof f==="function"){f(true)}return true}}}a.wtype="danger";a.type="danger";var c=$.messager._init(c,a);c.dialog(a);return c},success:function(d,e,f){var b="Success";
var a={};if(typeof d!=="string"){a=d||"";f=a.callback;e=a.title||b}if(typeof e==="function"){f=e;e=b}if(e===undefined){e=b}a=$.extend(true,{modal:true,message:d.toString(),timeOut:0,title:e.toString(),isMessage:true,width:300,iconCls:true,icons:"cui-icon-checkmark4",wtype:"success"},$.success.defaults,a);if((a.timeOut<=0||isNaN(a.timeOut))&&!a.buttons){a.buttons={"确定":function(){$(this).dialog("close");if(typeof f==="function"){f(true)}return true}}}a.wtype="success";a.type="success";var c=$.messager._init(c,a);c.dialog(a);return c},confirm:function(g,e,f){var i="确定",a="取消",d={},h={},c="信息提示";if(typeof g!=="string"){h=g||"";f=h.callback;e=h.title||c;i=h.okText?h.okText:i;a=h.cancelText?h.cancelText:a}if(typeof e==="function"){f=e;e=c}if(e===undefined){e=c}h=$.extend(true,{autoOpen:true,title:"确认提示",message:g.toString(),title:e.toString(),iconCls:true,isMessage:true,width:300,show:"slideDown",modal:true,icons:"cui-icon-question4",buttons:d},$.confirm.defaults,h);d[i]=function(){$(this).dialog("close");if(typeof f==="function"){f(true)}return false};d[a]=function(){$(this).dialog("close");if(typeof f==="function"){f(false)}return false};h.type="confirm";h.wtype="confirm";var b=$.messager._init(b,h);b.dialog(h);return b}};$.messager.messageInstances=0;$.messager.messageHeights=[];$.message=$.messager.message;$.messageQueue=$.messager.messageQueue;$.messageBox=$.messager.messageBox;$.messageToast=$.messager.messageToast;$.alert=$.messager.alert;$.danger=$.messager.danger;$.success=$.messager.success;$.confirm=$.messager.confirm;$.message.defaults={position:{my:"top",at:"top top+50",of:window}};$.messageQueue.defaults={position:{my:"top",at:"top top+50",of:window}};$.messageBox.defaults={position:{my:"right bottom",at:"right bottom",of:window}};$.messageToast.defaults={position:{my:"top",at:"top top+50",of:window}};$.alert.defaults={position:{my:"center",at:"center top+200",of:window}};$.danger.defaults={position:{my:"center",at:"center top+200",of:window}};$.success.defaults={position:{my:"center",at:"center top+200",of:window}};
$.confirm.defaults={position:{my:"center",at:"center top+200",of:window}};