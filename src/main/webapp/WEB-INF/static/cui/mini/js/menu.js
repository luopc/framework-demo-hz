$.component("coral.basemenu",{castProperties:["data"],options:{popup:false,trigger:null,my:"left top",at:"left bottom",of:null,triggerEvent:"click",data:null,onClick:null,onCreate:null,url:null,method:null},_create:function(){if(this.options.popup){this._initPopup()}},_generateULContent:function(){var c=this;if(this.element.children().length==0&&this.options.data!=null){var a="";var b=(typeof this.options.data==="string")?$.parseJSON(this.options.data):this.options.data;a=this._generateHTML(a,b);if(a.length>7){a=a.substring(4);a=a.substring(0,a.length-5)}this.element.html(a)}else{if(this.element.children().length==0&&this.options.url!=null){var a="";$.ajax({type:"get",url:c.options.url,async:false,data:null,dataType:"json",success:function(e){var d="";d=c._generateHTML(d,e);if(d.length>7){d=d.substring(4);d=d.substring(0,d.length-5)}c.element.html(d)},error:function(){}})}}},_generateHTML:function(c,d){c+="<ul>";for(var b=0;b<d.length;b++){if(d[b].id!=""){c+='<li data-id="'+d[b].id+'">'}else{c+="<li>"}c+=this._generateANode(d[b]);var a=d[b].items;if(typeof a!=="undefined"&&a instanceof Array&&a.length>0){c=this._generateHTML(c,a)}c+="</li>"}c+="</ul>";return c},_generateANode:function(a){var b="<a";if(a.iconclass!=""){b+=" data-icon='"+a.iconclass+"'"}if(a.name!=""){b+=" data-name='"+a.name+"'"}if(a.disabled!=""){b+=" data-disabled='"+a.disabled+"'"}if(a.url!=""){b+=" data-url='"+a.url+"'"}if(a.target!=""){b+=" data-target='"+a.target+"'"}b+=">";if(a.name!=""){b+=a.name}b+="</a>";return b},_initPopup:function(){var a=this;this.options.trigger=typeof this.options.trigger==="string"?$("#"+this.options.trigger):this.options.trigger;this.element.closest(".coral-menu").addClass("coral-menu-dynamic coral-shadow").appendTo(document.body);this.positionConfig={my:this.options.my,at:this.options.at,of:this.options.of?this.options.of:this.options.trigger};this.options.trigger.on(this.options.triggerEvent+".coral-menu",function(c){if(a.options.disabled===true){return}var b=$(this);
if(a.element.is(":visible")){a.hide()}else{a.show()}c.preventDefault()});$(document.body).on("click.coral-menu",function(d){var b=a.element.closest(".coral-menu");if(b.is(":hidden")){return}var c=$(d.target);if(c.is(a.options.trigger.get(0))||a.options.trigger.has(c).length>0){return}var f=b.offset();if(d.pageX<f.left||d.pageX>f.left+b.width()||d.pageY<f.top||d.pageY>f.top+b.height()){a.hide(d)}});$(window).on("resize.coral-menu",function(){if(a.element.closest(".coral-menu").is(":visible")){a.align()}})},show:function(){this.align();this.element.closest(".coral-menu").css("z-index",++$.coral.zindex).show()},hide:function(){this.element.closest(".coral-menu").fadeOut("fast")},align:function(){this.element.closest(".coral-menu").css({left:"",top:""}).position({my:this.options.my,at:this.options.at,of:this.options.of?this.options.of:this.options.trigger})},_apply:function(c,b,a){if(typeof c==="string"){return window[c].apply(b,[a])}else{if($.isFunction(c)){return c.apply(b,[a])}}},_setMenuItemLinkDisabled:function(a){if(a.data("disabled")===true){a.toggleClass(this.componentFullName+"-disabled coral-state-disabled",true).attr("aria-disabled",true)}else{a.toggleClass(this.componentFullName+"-disabled coral-state-disabled",false).attr("aria-disabled",false)}},_bindMenuItemClick:function(b){var a=b.options.onClick;b.links.on("click",function(){if(b.options.disabled===true){return}var c={};if($(this).parent("li").attr("data-id")!=null){c.id=$(this).parent("li").attr("data-id")}if($(this).attr("data-target")!=null){c.target=$(this).attr("data-target")}if($(this).attr("data-name")!=null){c.name=$(this).attr("data-name")}if($(this).attr("data-url")!=null){c.url=$(this).attr("data-url")}if($(this).find(":checkbox,:radio").length>0){c.hasChk=true;c.checked=$(this).find(":checkbox,:radio").prop("checked")}else{c.hasChk=false}var d={target:b,currentTarget:b,preventDefault:$.noop};b._trigger("onClick",d,c)})},setActiveMenu:function(b){var a=this;if(b==null||b.length==0){return}$.each(b,function(){var c=a.element.find("[data-name='"+this+"']");
c.parent().addClass("coral-menuitem-current")})},setCurrenMenu:function(a){if(a==null||a.length==0){return}this.element.find(">li>a").each(function(){var c=$(this),b=c.attr("data-name");if(b!==a){return}c.parent().addClass("coral-menuitem-current");$(this).parent().siblings().removeClass("coral-menuitem-current")})}});$.component("coral.navigationmenu",$.coral.basemenu,{castProperties:["title"],options:{collapsible:true,active:0,textAlign:"left",role:"navigationmenu",menus:"ul",title:null,icons:{activeHeader:"cui-icon-arrow-down",header:"cui-icon-arrow-right2"},header:"> li > :first-child,> :not(li):even"},_activate:function(a){var b=this._findActive(a)[0];if(b===this.active[0]){return}b=b||this.active[0];this._eventHandler({target:b,currentTarget:b,preventDefault:$.noop})},_findActive:function(a){return typeof a==="number"?this.headers.eq(a):$()},_setOption:function(a,b){if(a==="active"){this._activate(b);return}this._super(a,b)},_create:function(){var a=this;this._generateULContent();this._render();this.links=this.element.find(".coral-menuitem-link:not(.coral-state-disabled)");this._on({"mousedown .coral-navigationmenu-header":function(b){b.preventDefault()},"click .coral-menuitem-link":function(c){c.preventDefault();var e=$(c.target).closest(".coral-menuitem-link"),b=$(c.target).closest(".coral-menu-parent");if(b.not(".coral-state-disabled").length){b.siblings().find(">ul").attr("aria-expanded",false).slideUp();b.find(">.icon").removeClass(a.options.icons.activeHeader).addClass(a.options.icons.header);if(!c.isPropagationStopped()){this.mouseHandled=true}var d=b.find(">ul");if(!e.parent().hasClass("coral-menu-parent")){this.oldActive=this.active||$();this.active=e;this.oldActive.removeClass("coral-state-highlight");ui={item:this.active,target:this.active.attr("href")};this.active.addClass("coral-state-highlight");this._trigger("onSelect",c,ui)}else{if(d.attr("aria-expanded")=="true"){d.attr("aria-expanded",false).slideUp()}else{d.attr("aria-expanded",true).slideDown();
b.find(">.icon").removeClass(a.options.icons.header).addClass(a.options.icons.activeHeader)}}}},"mouseenter .coral-menuitem-link":function(c){c.preventDefault();var d=$(c.target).closest(".coral-menuitem-link");var b=$(c.target).closest(".coral-menu-parent");if(b.not(".coral-state-disabled").length){if(!d.parent().hasClass("coral-menu-parent")){d.addClass("coral-state-hover")}this._updateTitle()}},"mouseleave .coral-menuitem-link":function(c){c.preventDefault();var d=$(c.target).closest(".coral-menuitem-link");var b=$(c.target).closest(".coral-menu-parent");if(b.not(".coral-state-disabled").length){if(!d.parent().hasClass("coral-menu-parent")){d.removeClass("coral-state-hover")}}}});this._super()},_updateTitle:function(){this.element.find("li>a").each(function(){var c=$(this),a=c.find(".coral-menuitem-text").text();var b=$("<span style = 'visibility: hidden'>"+a+"</span>").appendTo("body");if(c.width()<b.width()){c.attr("title",a)}b.remove()})},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("coral-navigationmenu-header coral-state-default")},_render:function(){var c=this;this.element.addClass("coral-helper-reset coral-navigationmenu coral-menu").attr("role","navigationmenu");this.element.uniqueId();this.options.id=this.element.attr("id");this._processPanels();submenus=this.element.find(this.options.menus);submenus.filter(":not(.coral-menu)").addClass("coral-menu-list coral-helper-reset").attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=$(this),d=e.parent();d.attr("aria-haspopup","true");e.attr("aria-labelledby",d.attr("id"))});menus=submenus.add(this.element);items=menus.find(this.options.items);items.not(".coral-menu-item").each(function(){var d=$(this);if(that._isDivider(d)){d.addClass("coral-component-content coral-menu-divider")}});this.element.find("li").each(function(){var g=$(this),e=g.children("a"),f=e.data("icon"),h=typeof(g.parent().parent("li").attr("data-level"))=="undefined"?0:parseInt(g.parent().parent("li").attr("data-level"))+1;
e.addClass("coral-menuitem-link coral-state-default coral-corner-all");e.contents().filter(function(j,k){if(k.tagName){return false}return true}).wrap("<span class='coral-menuitem-text'/>");e.html('<div class="coral-navigationmenu-item-inner">'+e.html()+"</div>");g.addClass("coral-menuitem coral-component coral-corner-all").attr("data-level",h).addClass("level"+h);if(g.children("ul").length>0){var d=g.children("ul");g.addClass("coral-menu-parent");d.addClass("coral-menu-list coral-helper-reset");e.prepend('<span class="coral-navigationmenu-item-arrow cui-icon-arrow-down3"></span>')}else{if(c.options.textAlign=="right"){}}if(c.options.textAlign=="right"){$("<span class='coral-empty' style='width:"+h*16+"px;height:"+16+"px;'></span>").prependTo(e.find(".coral-navigationmenu-item-inner"))}});var a=".coral-navigationmenu li > a[data-target='"+this.options.active+"'], .coral-navigationmenu li > a[href='"+this.options.active+"']";var b=$(a);b.parents("ul").show();if(!b.parent().hasClass("coral-menu-parent")){b.addClass("coral-state-highlight");this.oldActive=b;this.active=b}}});$.component("coral.menu",{version:"4.0.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"coral-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",onBlur:null,onFocus:null,onSelect:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().addClass("coral-menu coral-component coral-component-content").toggleClass("coral-menu-icons",!!this.element.find(".coral-icon").length).attr({role:this.options.role,tabIndex:0});if(this.options.disabled){this.element.addClass("coral-state-disabled").attr("aria-disabled","true")}this._on({"mousedown .coral-menu-item":function(a){a.preventDefault()},"click .coral-menu-item":function(a){var b=$(a.target);if(!this.mouseHandled&&b.not(".coral-state-disabled").length){this.select(a);if(!a.isPropagationStopped()){this.mouseHandled=true}if(b.has(".coral-menu").length){this.expand(a)
}else{if(!this.element.is(":focus")&&$(this.document[0].activeElement).closest(".coral-menu").length){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".coral-menu").length===1){clearTimeout(this.timer)}}}}},"mouseenter .coral-menu-item":function(a){if(this.previousFilter){return}var b=$(a.currentTarget);b.siblings(".coral-state-active").removeClass("coral-state-active");this.focus(a,b)},mouseleave:"collapseAll","mouseleave .coral-menu":"collapseAll",focus:function(c,a){var b=this.active||this.element.find(this.options.items).eq(0);if(!a){this.focus(c,b)}},blur:function(a){this._delay(function(){if(!$.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(a)}})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(a){if(this._closeOnDocumentClick(a)){this.collapseAll(a)}this.mouseHandled=false}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".coral-menu").addBack().removeClass("coral-menu coral-component coral-component-content coral-menu-icons coral-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".coral-menu-item").removeClass("coral-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("coral-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var a=$(this);if(a.data("coral-menu-submenu-carat")){a.remove()}});this.element.find(".coral-menu-divider").removeClass("coral-menu-divider coral-component-content")},_keydown:function(e){var b,d,f,c,a=true;switch(e.keyCode){case $.coral.keyCode.PAGE_UP:this.previousPage(e);break;case $.coral.keyCode.PAGE_DOWN:this.nextPage(e);break;case $.coral.keyCode.HOME:this._move("first","first",e);break;case $.coral.keyCode.END:this._move("last","last",e);break;case $.coral.keyCode.UP:this.previous(e);
break;case $.coral.keyCode.DOWN:this.next(e);break;case $.coral.keyCode.LEFT:this.collapse(e);break;case $.coral.keyCode.RIGHT:if(this.active&&!this.active.is(".coral-state-disabled")){this.expand(e)}break;case $.coral.keyCode.ENTER:case $.coral.keyCode.SPACE:this._activate(e);break;case $.coral.keyCode.ESCAPE:this.collapse(e);break;default:a=false;d=this.previousFilter||"";f=String.fromCharCode(e.keyCode);c=false;clearTimeout(this.filterTimer);if(f===d){c=true}else{f=d+f}b=this._filterMenuItems(f);b=c&&b.index(this.active.next())!==-1?this.active.nextAll(".coral-menu-item"):b;if(!b.length){f=String.fromCharCode(e.keyCode);b=this._filterMenuItems(f)}if(b.length){this.focus(e,b);this.previousFilter=f;this.filterTimer=this._delay(function(){delete this.previousFilter},1000)}else{delete this.previousFilter}}if(a){e.preventDefault()}},_activate:function(a){if(!this.active.is(".coral-state-disabled")){if(this.active.is("[aria-haspopup='true']")){this.expand(a)}else{this.select(a)}}},refresh:function(){var e,b,d=this,c=this.options.icons.submenu,a=this.element.find(this.options.menus);this.element.toggleClass("coral-menu-icons",!!this.element.find(".coral-icon").length);a.filter(":not(.coral-menu)").addClass("coral-menu coral-component coral-component-content coral-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var h=$(this),g=h.parent(),f=$("<span>").addClass("coral-menu-icon coral-icon "+c).data("coral-menu-submenu-carat",true);g.attr("aria-haspopup","true").prepend(f);h.attr("aria-labelledby",g.attr("id"))});e=a.add(this.element);b=e.find(this.options.items);b.not(".coral-menu-item").each(function(){var f=$(this);if(d._isDivider(f)){f.addClass("coral-component-content coral-menu-divider")}});b.not(".coral-menu-item, .coral-menu-divider").addClass("coral-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()});b.filter(".coral-state-disabled").attr("aria-disabled","true");if(this.active&&!$.contains(this.element[0],this.active[0])){this.blur()
}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){if(a==="icons"){this.element.find(".coral-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu)}if(a==="disabled"){this.element.toggleClass("coral-state-disabled",!!b).attr("aria-disabled",b)}this._super(a,b)},focus:function(b,a){var d,c;this.blur(b,b&&b.type==="focus");this._scrollIntoView(a);this.active=a.first();c=this.active.addClass("coral-state-focus").removeClass("coral-state-active");if(this.options.role){this.element.attr("aria-activedescendant",c.attr("id"))}this.active.parent().closest(".coral-menu-item").addClass("coral-state-active");if(b&&b.type==="keydown"){this._close()}else{this.timer=this._delay(function(){this._close()},this.delay)}d=a.children(".coral-menu");if(d.length&&b&&(/^mouse/.test(b.type))){this._startOpening(d)}this.activeMenu=a.parent();this._trigger("onFocus",b,{item:a})},_scrollIntoView:function(d){var g,c,e,a,b,f;if(this._hasScroll()){g=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0;c=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0;e=d.offset().top-this.activeMenu.offset().top-g-c;a=this.activeMenu.scrollTop();b=this.activeMenu.height();f=d.outerHeight();if(e<0){this.activeMenu.scrollTop(a+e)}else{if(e+f>b){this.activeMenu.scrollTop(a+e-b+f)}}}},blur:function(b,a){if(!a){clearTimeout(this.timer)}if(!this.active){return}this.active.removeClass("coral-state-focus");this.active=null;this._trigger("onBlur",b,{item:this.active})},_startOpening:function(a){clearTimeout(this.timer);if(a.attr("aria-hidden")!=="true"){return}this.timer=this._delay(function(){this._close();this._open(a)},this.delay)},_open:function(b){var a=$.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".coral-menu").not(b.parents(".coral-menu")).hide().attr("aria-hidden","true");b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(a)},collapseAll:function(b,a){clearTimeout(this.timer);
this.timer=this._delay(function(){var c=a?this.element:$(b&&b.target).closest(this.element.find(".coral-menu"));if(!c.length){c=this.element}this._close(c);this.blur(b);this.activeMenu=c},this.delay)},_close:function(a){if(!a){a=this.active?this.active.parent():this.element}a.find(".coral-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".coral-state-active").not(".coral-state-focus").removeClass("coral-state-active")},_closeOnDocumentClick:function(a){return !$(a.target).closest(".coral-menu").length},_isDivider:function(a){return !/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(b){var a=this.active&&this.active.parent().closest(".coral-menu-item",this.element);if(a&&a.length){this._close();this.focus(b,a)}},expand:function(b){var a=this.active&&this.active.children(".coral-menu ").find(this.options.items).first();if(a&&a.length){this._open(a.parent());this._delay(function(){this.focus(b,a)})}},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".coral-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".coral-menu-item").length},_move:function(d,b,c){var a;if(this.active){if(d==="first"||d==="last"){a=this.active[d==="first"?"prevAll":"nextAll"](".coral-menu-item").eq(-1)}else{a=this.active[d+"All"](".coral-menu-item").eq(0)}}if(!a||!a.length||!this.active){a=this.activeMenu.find(this.options.items)[b]()}this.focus(c,a)},nextPage:function(c){var b,d,a;if(!this.active){this.next(c);return}if(this.isLastItem()){return}if(this._hasScroll()){d=this.active.offset().top;a=this.element.height();this.active.nextAll(".coral-menu-item").each(function(){b=$(this);return b.offset().top-d-a<0});this.focus(c,b)}else{this.focus(c,this.activeMenu.find(this.options.items)[!this.active?"first":"last"]())}},previousPage:function(c){var b,d,a;if(!this.active){this.next(c);return}if(this.isFirstItem()){return
}if(this._hasScroll()){d=this.active.offset().top;a=this.element.height();this.active.prevAll(".coral-menu-item").each(function(){b=$(this);return b.offset().top-d+a>0});this.focus(c,b)}else{this.focus(c,this.activeMenu.find(this.options.items).first())}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(a){this.active=this.active||$(a.target).closest(".coral-menu-item");var b={item:this.active};if(!this.active.has(".coral-menu").length){this.collapseAll(a,true)}this._trigger("onSelect",a,b)},_filterMenuItems:function(c){var a=c.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),b=new RegExp("^"+a,"i");return this.activeMenu.find(this.options.items).filter(".coral-menu-item").filter(function(){return b.test($.trim($(this).text()))})}});$.component("coral.breadcrumb",{_create:function(){this.element.wrap('<div class="coral-breadcrumb coral-module coral-component coral-component-header coral-helper-clearfix coral-corner-all" role="menu">');this.element.children("li").each(function(b){var c=$(this);c.attr("role","menuitem");var a=c.children("a");a.addClass("coral-menuitem-link coral-corner-all").contents().wrap('<span class="coral-menuitem-text" />');if(b>0){c.before('<li class="coral-breadcrumb-chevron menu-rightArrow cui-icon-arrowDown1"></li>')}else{a.addClass("coral-icon coral-icon-home")}})}});$.component("coral.tieredmenu",$.coral.basemenu,{options:{autoDisplay:true},_create:function(){this._generateULContent();this._render();this.links=this.element.find(".coral-menuitem-link");this.lis=this.element.find(".coral-menuitem");this.menuitems=this.element.children("li.coral-menuitem");this._bindEvents();this._super()},_render:function(){var a=this;this.element.addClass("coral-menu-list coral-helper-reset").wrap('<div class="coral-tieredmenu coral-menu coral-component coral-component-content coral-corner-all coral-helper-clearfix" />');if(this.options.id){this.element.parent().attr("id",this.options.id)}else{this.element.parent().uniqueId();
this.options.id=this.element.parent().attr("id")}this.element.find("li").each(function(){var d=$(this),b=d.children("a"),c=b.data("icon");a._setMenuItemLinkDisabled(b);b.addClass("coral-menuitem-link coral-corner-all").contents().wrap('<span class="coral-menuitem-text" />');if(c){b.prepend('<span class="menu-icon '+c+'"></span>')}d.addClass("coral-menuitem coral-component coral-corner-all");if(d.children("ul").length>0){d.addClass("coral-menu-parent");d.children("ul").addClass("coral-component-content coral-menu-list coral-corner-all coral-helper-clearfix coral-menu-child coral-shadow");b.prepend('<span class="menu-rightArrow cui-icon-arrowDown1"></span>')}})},_bindEvents:function(){this._bindItemEvents();this._bindDocumentHandler()},_bindMenuItemClick:function(c,b){var a=[];if(typeof b==="boolean"&&!b){a=this.element.find("> .coral-menuitem > .coral-menuitem-link")}c.links.not(a).on("click",function(h){if(c.options.disabled===true||$(this).hasClass("coral-state-disabled")){return}var d={};var f=$(h.target).closest("li").hasClass("coral-menu-parent");if($(this).parent("li").attr("data-id")!=null){d.id=$(this).parent("li").attr("data-id")}if($(this).attr("data-target")!=null){d.target=$(this).attr("data-target")}if($(this).attr("data-name")!=null){d.name=$(this).attr("data-name")}if($(this).attr("data-url")!=null){d.url=$(this).attr("data-url")}if($(this).find(":checkbox,:radio").length>0){d.hasChk=true;d.checked=$(this).find(":checkbox,:radio").prop("checked")}else{d.hasChk=false}var g={target:h.target,currentTarget:c,preventDefault:$.noop};d.isParent=f;c._trigger("onClick",g,d)})},_bindItemEvents:function(){var a=this;this._on(this.links,{mouseenter:function(g){var f=g.target;if(this.options.vertical||$(window).width()<900){return}if(this.options.disabled===true||$(f).hasClass("coral-state-disabled")){return}var b=$(f),d=b.parent(),c=this.options.autoDisplay,h=d.siblings(".coral-menuitem-active");if(h.length===1){this._deactivate(h)}if(c||a.active){this._activate(d)
}else{this._highlight(d)}}});this._on({"mouseleave.coral-menuitem":function(c){var b=$(c.target).closest("li");if(this.options.vertical||!this.options.autoDisplay||$(window).width()<900){return}if(this.options.disabled===true||$(c.target).closest("a").hasClass("coral-state-disabled")){return}$(b).find("ul").hide();$(b).children("a").removeClass("coral-state-hover")},mouseleave:function(b){if(this.options.vertical||!this.options.autoDisplay||$(window).width()<900){return}this.element.find("ul").hide();this.element.find(".coral-state-hover").removeClass("coral-state-hover")},"click.coral-menuitem":function(c){var b=$(c.target).closest("li");if(this.options.disabled===true||$(b).find(">a").hasClass("coral-state-disabled")){return}if(!this.options.vertical&&$(window).width()>900){if(b.find("li").length==0){if(!b.hasClass("coral-menuitem-active")){a.element.find(".coral-menuitem-active").removeClass("coral-menuitem-active");b.addClass("coral-menuitem-active");b.parents("li").addClass("coral-menuitem-active")}}}if((!this.options.vertical&&$(window).width()>900)||(this.element.parent().hasClass("coral-menu-min")&&!$(b).parents("ul").hasClass("coral-menu-child"))){return}if(b.find("li").length){if(b.hasClass("coral-menuitem-open")){b.children("ul").css({display:"none"});b.removeClass("coral-menuitem-open")}else{b.children("ul").css({display:"block"});b.addClass("coral-menuitem-open")}}else{if(!b.hasClass("coral-menuitem-active")){a.element.find(".coral-menuitem-active").removeClass("coral-menuitem-active");b.addClass("coral-menuitem-active");b.parents("li").addClass("coral-menuitem-active")}}c.stopPropagation()}});if(this.options.autoDisplay===false){this.rootLinks=this.element.find("> .coral-menuitem > .coral-menuitem-link");this.rootLinks.data("primecoral-tieredmenu-rootlink",this.options.id).find("*").data("primecoral-tieredmenu-rootlink",this.options.id);this.rootLinks.on("click.coral-menu",function(h){if(a.options.disabled===true||$(this).hasClass("coral-state-disabled")){return
}var f=$(this),g=f.parent(),c=g.children("ul.coral-menu-child");if(c.length===1){if(c.is(":visible")){a.active=false;a._deactivate(g)}else{a.active=true;a._highlight(g);a._showSubmenu(g,c)}}var b={};if($(this).parent("li").attr("data-id")!=null){b.id=$(this).parent("li").attr("data-id")}if($(this).attr("data-target")!=null){b.target=$(this).attr("data-target")}if($(this).attr("data-name")!=null){b.name=$(this).attr("data-name")}if($(this).attr("data-url")!=null){b.url=$(this).attr("data-url")}if($(this).find(":checkbox,:radio").length>0){b.hasChk=true;b.checked=$(this).find(":checkbox,:radio").prop("checked")}else{b.hasChk=false}var d={target:a,currentTarget:a,preventDefault:$.noop};a._trigger("onClick",d,b);if(!$(this).parent("li").hasClass("coral-menu-parent")){a.hide()}});this._bindMenuItemClick(a,false)}else{this._bindMenuItemClick(a,true)}this.element.parent().find("ul.coral-menu-list").on("mouseleave.coral-menu",function(b){if(a.activeitem){a._deactivate(a.activeitem)}if(!a.element.parent().hasClass("coral-menubar-horizontal")){b.stopPropagation()}})},add:function(a,c){if((typeof a!=="string"&&typeof a!=="number"&&a!==null)||(typeof c!=="object")){return}var b=this;if(typeof a==="string"||a==null){this._addByParentId(a,c)}else{if(typeof a==="number"){this._addByIndex(a,c)}}},_addByParentId:function(b,d){var c=this,a=this.element.find(".coral-menuitem").filter("[data-id$='"+b+"']");if(!a.length&&b!==null){return}if(b===null){this.element.append(this._getAddHTML(d,false));var e=this._renderAddHTML();this._bindAddItemEvents(e);this._bindLinkRootEvents($(e[0]))}else{if(this._hasChildren(a)){a.children("ul").append(this._getAddHTML(d,false))}else{a.append(this._getAddHTML(d,true))}var f=this._renderAddHTML(a);this._bindAddItemEvents(f)}},_getAddHTML:function(d,e){var c="";if(!(d instanceof Array)){d=[d]}if(typeof e==="boolean"&&e){c+="<ul>"}for(var b=0;b<d.length;b++){if(d[b].id!=""){c+='<li data-id="'+d[b].id+'">'}else{c+="<li>"}c+=this._generateANode(d[b]);var a=d[b].items;
if(a.length>0){c=this._generateHTML(c,a)}c+="</li>"}if(typeof e==="boolean"&&e){c+="</ul>"}return c},_renderAddHTML:function(a){var b=this,c=this.element.find("li").not(".coral-menuitem");if(a&&!a.children("ul").hasClass("coral-menu-list")){a.addClass("coral-menu-parent");a.children("ul").addClass("coral-component-content coral-menu-list coral-corner-all coral-helper-clearfix coral-menu-child coral-shadow");a.children("a").prepend('<span class="menu-rightArrow cui-icon-arrowDown1"></span>')}c.each(function(){var f=$(this),d=f.children("a"),e=d.data("icon");b._setMenuItemLinkDisabled(d);d.addClass("coral-menuitem-link coral-corner-all").contents().wrap('<span class="coral-menuitem-text" />');if(e){d.prepend('<span class="menu-icon '+e+'"></span>')}f.addClass("coral-menuitem coral-component coral-corner-all");if(f.children("ul").length>0){f.addClass("coral-menu-parent");f.children("ul").addClass("coral-component-content coral-menu-list coral-corner-all coral-helper-clearfix coral-menu-child coral-shadow");d.prepend('<span class="menu-rightArrow cui-icon-arrowDown1"></span>')}});return c.find(".coral-menuitem-link")},_bindLinkRootEvents:function(b){var a=this;b.data("primecoral-tieredmenu-rootlink",this.options.id).find("*").data("primecoral-tieredmenu-rootlink",this.options.id);b.on("click.coral-menu",function(g){if(a.options.disabled===true||$(this).hasClass("coral-state-disabled")){return}var d=$(this),f=d.parent(),c=f.children("ul.coral-menu-child");if(c.length===1){if(c.is(":visible")){a.active=false;a._deactivate(f)}else{a.active=true;a._highlight(f);a._showSubmenu(f,c)}}})},_bindAddItemEvents:function(b){var a=this;b.on("click",function(){if(a.options.disabled===true||$(this).hasClass("coral-state-disabled")){return}var c={};if($(this).parent("li").attr("data-id")!=null){c.id=$(this).parent("li").attr("data-id")}if($(this).attr("data-target")!=null){c.target=$(this).attr("data-target")}if($(this).attr("data-name")!=null){c.name=$(this).attr("data-name")}if($(this).attr("data-url")!=null){c.url=$(this).attr("data-url")
}if($(this).find(":checkbox,:radio").length>0){c.hasChk=true;c.checked=$(this).find(":checkbox,:radio").prop("checked")}else{c.hasChk=false}var d={target:a,currentTarget:a,preventDefault:$.noop};a._trigger("onClick",d,c);a.hide()});b.on("mouseenter",function(){if(a.options.disabled===true||$(this).hasClass("coral-state-disabled")){return}var c=$(this),e=c.parent(),d=a.options.autoDisplay;var f=e.siblings(".coral-menuitem-active");if(f.length===1){a._deactivate(f)}if(d||a.active){if(e.hasClass("coral-menuitem-active")){a._reactivate(e)}else{a._activate(e)}}else{a._highlight(e)}});b.parents("li").find("ul.coral-menu-list").on("mouseleave.coral-menu",function(c){if(a.activeitem){a._deactivate(a.activeitem)}c.stopPropagation()})},_hasChildren:function(a){if(a.hasClass("coral-menu-parent")){return true}else{return false}},_getLength:function(){return this.element.children("li").length},_addByIndex:function(b,d){var c=this,a=parseInt(b);if(a<0||a>this._getLength()){return}if(this._getLength()==0||a==this._getLength()){this.element.append(this._getAddHTML(d,false))}else{this.element.children("li:eq("+a+")").before(this._getAddHTML(d,false))}var e=this._renderAddHTML();this._bindAddItemEvents(e);this._bindLinkRootEvents($(e[0]))},remove:function(){var a=this.element.children("li");if(!a.length){return}a.remove()},removeItem:function(a){var b=this;if(typeof a==="string"){this._removeById(a)}else{this._removeByIndex(a)}},_removeById:function(b){var a=this.element.find(".coral-menuitem").filter("[data-id$='"+b+"']");if(!a.length){return}if(!a.siblings("li").length){a.parent("ul").remove()}else{a.remove()}},_removeByIndex:function(b){var a=parseInt(b);if(a<0||a>(this._getLength()-1)){return}var c=this.element.children("li.coral-menuitem:eq("+a+")");if(!c.length){return}c.remove()},updateItem:function(b,a){var c=this;if(typeof b==="string"){this._updateById(b,a)}else{this._updateByIndex(b,a)}},_updateById:function(c,a){var b=this.element.find(".coral-menuitem").filter("[data-id$='"+c+"']");
if(!b.length){return}b.children(".coral-menuitem-link").children(".coral-menuitem-text").html(a)},_updateByIndex:function(c,b){var a=parseInt(c);if(a<0||a>(this._getLength()-1)){return}var d=this.element.children("li.coral-menuitem:eq("+a+")");if(!d.length){return}d.children(".coral-menuitem-link").children(".coral-menuitem-text").html(b)},_bindDocumentHandler:function(){var a=this;$(document.body).on("click.coral-menu",function(c){var b=$(c.target);if(b.data("primecoral-tieredmenu-rootlink")===a.options.id){return}a.active=false;if(b.closest("li").find("ul").length!=0||a.element.parent().hasClass("coral-menubar-vertical")){return}a.element.find("li.coral-menuitem-active").each(function(){a._deactivate($(this),true)})})},enable:function(){var a=this.element.find(".coral-menuitem");if(!a.length){return}a.children(".coral-menuitem-link").toggleClass(this.componentFullName+"-disabled coral-state-disabled",false).attr("aria-disabled",false)},enableItem:function(a){var b=this;if(typeof a==="string"){this._enableItemById(a)}else{this._enableItemByIndex(a)}},_enableItemById:function(b){var a=this.element.find(".coral-menuitem").filter("[data-id$='"+b+"']");if(!a.length){return}a.children(".coral-menuitem-link").toggleClass(this.componentFullName+"-disabled coral-state-disabled",false).attr("aria-disabled",false)},_enableItemByIndex:function(b){var a=parseInt(b);if(a<0||a>(this._getLength()-1)){return}var c=this.element.children("li.coral-menuitem:eq("+a+")");if(!c.length){return}c.children(".coral-menuitem-link").toggleClass(this.componentFullName+"-disabled coral-state-disabled",false).attr("aria-disabled",false)},disable:function(){var a=this.element.find(".coral-menuitem");if(!a.length){return}a.children(".coral-menuitem-link").toggleClass(this.componentFullName+"-disabled coral-state-disabled",true).attr("aria-disabled",true)},disableItem:function(a){var b=this;if(typeof a==="string"){return this._disableItemById(a)}else{return this._disableItemByIndex(a)}},_disableItemById:function(b){var a=this.element.find(".coral-menuitem").filter("[data-id$='"+b+"']");
if(!a.length){return}a.children(".coral-menuitem-link").toggleClass(this.componentFullName+"-disabled coral-state-disabled",true).attr("aria-disabled",true)},_disableItemByIndex:function(b){var a=parseInt(b);if(a<0||a>(this._getLength()-1)){return}var c=this.element.children("li.coral-menuitem:eq("+a+")");if(!c.length){return}c.children(".coral-menuitem-link").toggleClass(this.componentFullName+"-disabled coral-state-disabled",true).attr("aria-disabled",true)},hideAll:function(){var a=this.element.children("li");if(!a.length){return}a.hide()},hideItem:function(a){var b=this;if(typeof a==="string"){return b._hideById(a)}else{return b._hideByIndex(a)}},_hideById:function(b){var a=this.element.find(".coral-menuitem").filter("[data-id$='"+b+"']");if(!a.length){return}a.toggleClass("coral-tieredmenu-hidden",true)},_hideByIndex:function(b){var a=parseInt(b);if(a<0||a>(this._getLength()-1)){return}var c=this.element.children("li.coral-menuitem:eq("+a+")");if(!c.length){return}c.toggleClass("coral-tieredmenu-hidden",true)},showAll:function(){var a=this.element.children("li");if(!a.length){return}a.show()},showItem:function(a){var b=this;if(typeof a==="string"){return b._showById(a)}else{return b._showByIndex(a)}},_showById:function(b){var a=this.element.find(".coral-menuitem").filter("[data-id$='"+b+"']");if(!a.length){return}a.toggleClass("coral-tieredmenu-hidden",false)},_showByIndex:function(b){var a=parseInt(b);if(a<0||a>(this._getLength()-1)){return}var c=this.element.children("li.coral-menuitem:eq("+a+")");if(!c.length){return}c.toggleClass("coral-tieredmenu-hidden",false)},_deactivate:function(b,a){this.activeitem=null;b.children("a.coral-menuitem-link").removeClass("coral-state-hover");if(a){b.children("ul.coral-menu-child:visible").fadeOut("fast")}else{b.children("ul.coral-menu-child:visible").hide()}},_activate:function(b){this._highlight(b);var a=b.children("ul.coral-menu-child");if(a.length===1){this._showSubmenu(b,a)}},_reactivate:function(d){this.activeitem=d;var c=d.children("ul.coral-menu-child"),b=c.children("li.coral-menuitem-active:first"),a=this;
if(b.length===1){a._deactivate(b)}},_highlight:function(a){this.activeitem=a;a.children("a.coral-menuitem-link").addClass("coral-state-hover")},_showSubmenu:function(b,a){if(!a.children("li:not(.coral-tieredmenu-hidden)").length){return}if(this.options.disabled===true){return}a.css({left:b.outerWidth(),top:0,"z-index":++$.coral.zindex});a.show()}});$.component("coral.menubar",$.coral.tieredmenu,{options:{responsive:false,minmenu:false,vertical:false,autoDisplay:true},component:function(){return this.element.parent()},_create:function(){this._super();this.options.id=this.element.parent().removeAttr("id").uniqueId();if(!this.options.vertical){this.element.parent().removeClass("coral-tieredmenu").addClass("coral-menubar").addClass("coral-menubar-horizontal")}else{if(this.options.vertical){this.element.parent().addClass("coral-menubar-vertical").removeClass("coral-tieredmenu")}}this.element.find(">li>ul").addClass("coral-dropdown-menu");if(this.options.responsive){this.component().addClass("menu-responsive")}if(this.options.minmenu){this.component().addClass("coral-menu-min")}},_setOption:function(a,b){this._super(a,b);if(a=="minmenu"){if(b){this.component().removeClass("coral-menu-min").addClass("coral-menu-min")}else{if(!b){this.component().removeClass("coral-menu-min")}}}},_showSubmenu:function(e,c){var d=$(window),b=null,a={"z-index":++$.coral.zindex};if(e.parent().hasClass("coral-menu-child")){a.left=e.outerWidth();a.top=0;b=e.offset().top-d.scrollTop()}else{a.left=0;if(e.parent().parent().hasClass("coral-menu-min")){a.top=e.outerHeight()+37}else{a.top=e.outerHeight()}b=e.offset().top+a.top-d.scrollTop()}c.css("height","auto");if((b+c.outerHeight())>d.height()){a.overflow="auto";a.height=d.height()-(b+20)}c.css(a).show()}});$.component("coral.slidemenu",$.coral.basemenu,{_create:function(){this._generateULContent();this._render();this.rootList=this.element;this.content=this.element.parent();this.wrapper=this.content.parent();this.container=this.wrapper.parent();this.submenus=this.container.find("ul.coral-menu-list");
this.links=this.element.find("a.coral-menuitem-link:not(.coral-state-disabled)");this.backward=this.wrapper.children("div.coral-slidemenu-backward");this.stack=[];this.jqWidth=this.container.width();var a=this;if(!this.element.hasClass("coral-menu-dynamic")){this._applyDimensions()}this._super();this._bindEvents()},_render:function(){var a=this;this.element.addClass("coral-menu-list coral-helper-reset").wrap('<div class="coral-menu coral-slidemenu coral-component coral-component-content coral-corner-all coral-helper-clearfix"/>').wrap('<div class="coral-slidemenu-wrapper" />').after('<div class="coral-slidemenu-backward coral-component-header coral-corner-all coral-helper-clearfix">\n                    <span class="coral-icon coral-icon-triangle-1-w"></span>Back</div>').wrap('<div class="coral-slidemenu-content" />');this.element.parent().uniqueId();this.options.id=this.element.parent().attr("id");this.element.find("li").each(function(){var d=$(this),b=d.children("a"),c=b.data("icon");a._setMenuItemLinkDisabled(b);b.addClass("coral-menuitem-link coral-corner-all").contents().wrap('<span class="coral-menuitem-text" />');if(c){b.prepend('<span class="menu-icon '+c+'"></span>')}d.addClass("coral-menuitem coral-component coral-corner-all");if(d.children("ul").length>0){d.addClass("coral-menu-parent");d.children("ul").addClass("coral-component-content coral-menu-list coral-corner-all coral-helper-clearfix coral-menu-child coral-shadow");b.prepend('<span class="menu-rightArrow cui-icon-arrowDown1"></span>')}})},_bindEvents:function(){var a=this;this._bindMenuItemClick(a);this.links.on("mouseenter.coral-menu",function(){$(this).addClass("coral-state-hover")}).on("mouseleave.coral-menu",function(){$(this).removeClass("coral-state-hover")}).on("click.coral-menu",function(){var c=$(this),b=c.next();if(b.length==1){a._forward(b)}});this.backward.on("click.coral-menu",function(){a._back()})},_forward:function(b){var c=this;this._push(b);var a=-1*(this._depth()*this.jqWidth);b.show().css({left:this.jqWidth});
this.rootList.animate({left:a},300,"easeInOutCirc",function(){if(c.backward.is(":hidden")){c.backward.fadeIn("fast")}})},_back:function(){var c=this,b=this._pop(),d=this._depth();var a=-1*(d*this.jqWidth);this.rootList.animate({left:a},300,"easeInOutCirc",function(){b.hide();if(d===0){c.backward.fadeOut("fast")}})},_push:function(a){this.stack.push(a)},_pop:function(){return this.stack.pop()},_last:function(){return this.stack[this.stack.length-1]},_depth:function(){return this.stack.length},_applyDimensions:function(){this.submenus.width(this.container.width());this.wrapper.height(this.rootList.outerHeight(true)+this.backward.outerHeight(true));this.content.height(this.rootList.outerHeight(true));this.rendered=true},show:function(){this.align();this.container.css("z-index",++$.coral.zindex).show();if(!this.rendered){this._applyDimensions()}}});$.component("coral.contextmenu",$.coral.tieredmenu,{options:{autoDisplay:true,target:null,event:"contextmenu"},_create:function(){this._super();this.element.parent().removeClass("coral-tieredmenu").addClass("coral-contextmenu coral-menu-dynamic coral-shadow coral-contextmenu");var a=this;this.options.target=typeof this.options.target==="string"?$("#"+this.options.target):this.options.target;this.options.target=this.options.target||$(document);if(!this.element.parent().parent().is(document.body)){this.element.parent().appendTo("body")}this.options.target.on(this.options.event+".coral-contextmenu",function(b){a.show(b)})},_bindItemEvents:function(){this._super();var a=this;this.links.bind("click",function(){if($(this).parent().hasClass("coral-menu-parent")){return false}a._hide()})},_bindDocumentHandler:function(){var a=this;$(document.body).bind("click.coral-contextmenu",function(b){if(a.element.parent().is(":hidden")){return}a._hide()})},show:function(g){if(this.options.disabled===true){g.preventDefault();g.stopPropagation();return}$(document.body).children(".coral-contextmenu:visible").hide();var f=$(window),d=g.pageX,c=g.pageY,b=this.element.parent().outerWidth(),a=this.element.parent().outerHeight();
if((d+b)>(f.width())+f.scrollLeft()){d=d-b}if((c+a)>(f.height()+f.scrollTop())){c=c-a}if(this.options.beforeShow){this.options.beforeShow.call(this)}this.element.parent().css({left:d,top:c,"z-index":++$.coral.zindex}).show();g.preventDefault();g.stopPropagation()},_hide:function(){var a=this;this.element.parent().find("li.coral-menuitem-active").each(function(){a._deactivate($(this),true)});this.element.parent().fadeOut("fast")},isVisible:function(){return this.element.parent().is(":visible")},getTarget:function(){return this.jqTarget}});$.component("coral.navigatemenubase",$.coral.basemenu,{options:{autoDisplay:true},_create:function(){this._generateULContent();this._render();this.links=this.element.find(".coral-menuitem-link:not(.coral-state-disabled)");this._bindEvents();this._super()},_render:function(){var a=this;this.element.addClass("coral-menu-list coral-helper-reset").wrap('<div class="coral-tieredmenu coral-menu coral-component coral-component-content coral-corner-all coral-helper-clearfix" />');this.element.parent().uniqueId();this.options.id=this.element.parent().attr("id");this.element.find("li").each(function(){var d=$(this),b=d.children("a"),c=b.data("icon");a._setMenuItemLinkDisabled(b);b.addClass("coral-menuitem-link coral-corner-all").contents().wrap('<span class="coral-menuitem-text" />');if(c){b.prepend('<span class="menu-icon '+c+'"></span>')}d.addClass("coral-menuitem coral-component coral-corner-all");if(d.children("ul").length>0){d.addClass("coral-menu-parent");d.css("position","static");d.children("ul").css("width","100%");d.find("ul li").css("width","auto");d.find("ul li a").css("width","auto");d.children("ul").addClass("coral-component-content coral-menu-list coral-corner-all coral-helper-clearfix coral-menu-child coral-shadow");b.prepend('<span class="menu-rightArrow cui-icon-arrowDown1"></span>')}})},_bindEvents:function(){this._bindItemEvents();this._bindDocumentHandler()},_bindItemEvents:function(){var a=this;this._bindMenuItemClick(a);
this.links.on("mouseenter.coral-menu",function(){if(a.options.disabled===true){return}var b=$(this),d=b.parent(),c=a.options.autoDisplay;var e=d.siblings(".coral-menuitem-active");if(e.length===1){a._deactivate(e)}if(c||a.active){if(d.hasClass("coral-menuitem-active")){a._reactivate(d)}else{a._activate(d)}}else{a._highlight(d)}});if(this.options.autoDisplay===false){this.rootLinks=this.element.find("> .coral-menuitem > .coral-menuitem-link");this.rootLinks.data("primecoral-tieredmenu-rootlink",this.options.id).find("*").data("primecoral-tieredmenu-rootlink",this.options.id);this.rootLinks.on("click.coral-menu",function(f){var c=$(this),d=c.parent(),b=d.children("ul.coral-menu-child");if(b.length===1){if(b.is(":visible")){a.active=false;a._deactivate(d)}else{a.active=true;a._highlight(d);a._showSubmenu(d,b)}}})}this.element.parent().find("ul.coral-menu-list").on("mouseleave.coral-menu",function(b){if(a.activeitem){}b.stopPropagation()})},_bindDocumentHandler:function(){var a=this;$(document.body).on("click.coral-menu ",function(c){var b=$(c.target);if(b.data("primecoral-tieredmenu-rootlink")===a.options.id){return}if(b.is("[type='checkbox']")){return}a.active=false;a.element.find("li.coral-menuitem-active").each(function(){if(a.options.fixmenu==="false"){a._deactivate($(this),true)}})})},_activate:function(b){this._highlight(b);var a=b.children("ul.coral-menu-child");if(a.length===1){this._showSubmenu(b,a)}},_reactivate:function(d){this.activeitem=d;var c=d.children("ul.coral-menu-child"),b=c.children("li.coral-menuitem-active:first"),a=this;if(b.length===1){a._deactivate(b)}},_highlight:function(a){this.activeitem=a;a.children("a.coral-menuitem-link").addClass("coral-state-hover");a.addClass("coral-menuitem-active")},_showSubmenu:function(b,a){if(this.options.disabled===true){return}a.css({left:b.outerWidth(),top:0,"z-index":++$.coral.zindex});a.show()}});$.component("coral.navigatemenu",$.coral.navigatemenubase,{options:{autoDisplay:true,checkable:null,fixmenu:null},_generateHTML:function(d,e){d+="<ul>";
for(var c=0;c<e.length;c++){d+="<li>";d+=this._generateANode(e[c]);var b=e[c].name;var a=e[c].items;if(a.length>0){d=this._generateLast(d,a,b)}d+="</li>"}d+="</ul>";return d},_generateLast:function(c,d,a){c+="<ul>";for(var b=0;b<d.length;b++){c+="<li>";c+=this._generateChbNode(d[b],a);c+="</li>"}c+="</ul>";return c},_generateChbNode:function(e,b){var f="<a";if(e.iconclass!=""){}if(e.name!=""){f+=" data-name='"+e.name+"'"}if(e.disabled!=""){f+=" data-disabled='"+e.disabled+"'"}if(e.url!=""){f+=" href='"+e.url+"'"}if(e.target!=""){f+=" target='"+e.target+"'"}f+=">";var d=e.checked===true?"checked":"";var a=e.disabled=="true"?"disabled=true":"";var c="<input type='radio' "+a+" name='"+b+"' "+d+" data-id='"+this.element[0].id+"_"+e.name+"'/>";if(this.options.checkable===true){c="<input type='checkbox' "+a+" "+d+" data-id='"+this.element[0].id+"_"+e.name+"'/>"}f+=c;if(e.name!=""){f+=e.name}f+="</a>";return f},_create:function(){this._super();this.element.parent().removeClass("coral-tieredmenu").addClass("coral-navigatemenu");if(this.options.fixmenu!=="false"){var b=$(this.links[0]).parent(":first").find("ul").outerHeight();var a=this.element.parent().outerHeight();this.element.parent().outerHeight(b+a-3)}if(this.options.fixmenu!=="false"){this._activate($(this.links[0]).parent());$(this.links[0]).parent(":first").find("ul").css("height","auto")}},_showSubmenu:function(e,c){var d=$(window),b=null,a={"z-index":++$.coral.zindex};if(e.parent().hasClass("coral-menu-child")){a.left=e.outerWidth();a.top=0;b=e.offset().top-d.scrollTop()}else{a.left=0;a.top=this.element.parent().outerHeight();b=e.offset().top+a.top-d.scrollTop()}c.css("height","auto");if((b+c.outerHeight())>d.height()){a.overflow="auto";a.height=d.height()-(b+20)}c.css(a).show()},check:function(a,b){$("[data-id='"+this.element[0].id+"_"+a+"']").prop("checked",b)}});